<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<template encoding-version="1.3">
    <description></description>
    <groupId>38410f93-016f-1000-cd6b-8a6103949ccf</groupId>
    <name>Logs processing processor</name>
    <snippet>
        <processGroups>
            <id>dacb53d2-18a8-3ff4-0000-000000000000</id>
            <parentGroupId>73d772fa-cf91-3f33-0000-000000000000</parentGroupId>
            <position>
                <x>0.0</x>
                <y>0.0</y>
            </position>
            <comments></comments>
            <contents>
                <connections>
                    <id>23f8bbd7-0fd3-33f2-0000-000000000000</id>
                    <parentGroupId>dacb53d2-18a8-3ff4-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
                        <id>c62da2d2-d816-3ed2-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>4a019650-5776-3bb9-0000-000000000000</groupId>
                        <id>19b9b82e-6f8f-3d58-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <connections>
                    <id>50c39f18-1e75-3643-0000-000000000000</id>
                    <parentGroupId>dacb53d2-18a8-3ff4-0000-000000000000</parentGroupId>
                    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                    <destination>
                        <groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
                        <id>c62da2d2-d816-3ed2-0000-000000000000</id>
                        <type>INPUT_PORT</type>
                    </destination>
                    <flowFileExpiration>0 sec</flowFileExpiration>
                    <labelIndex>1</labelIndex>
                    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                    <name></name>
                    <source>
                        <groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
                        <id>a87378b9-f69e-3271-0000-000000000000</id>
                        <type>OUTPUT_PORT</type>
                    </source>
                    <zIndex>0</zIndex>
                </connections>
                <processGroups>
                    <id>4a019650-5776-3bb9-0000-000000000000</id>
                    <parentGroupId>dacb53d2-18a8-3ff4-0000-000000000000</parentGroupId>
                    <position>
                        <x>240.0</x>
                        <y>504.0</y>
                    </position>
                    <comments></comments>
                    <contents>
                        <connections>
                            <id>2b3df956-6d5c-3ba8-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>4a019650-5776-3bb9-0000-000000000000</groupId>
<id>19b9b82e-6f8f-3d58-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>751d4abc-4da5-376d-0000-000000000000</groupId>
<id>13eae344-55a6-32ad-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>488562a2-7333-3e06-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>4a019650-5776-3bb9-0000-000000000000</groupId>
<id>19b9b82e-6f8f-3d58-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>223cf301-4d90-3ef2-0000-000000000000</groupId>
<id>72349af5-06e0-3846-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>60d031de-eebc-3275-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>4a019650-5776-3bb9-0000-000000000000</groupId>
<id>19b9b82e-6f8f-3d58-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>db862ea9-87dd-3ac1-0000-000000000000</groupId>
<id>a9faea56-0df9-3434-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>71cc720b-992c-33d1-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>4a019650-5776-3bb9-0000-000000000000</groupId>
<id>19b9b82e-6f8f-3d58-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>4d017708-bc91-3229-0000-000000000000</groupId>
<id>28de91e0-4aa6-34b7-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>98df2c52-67e7-327f-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>4a019650-5776-3bb9-0000-000000000000</groupId>
<id>19b9b82e-6f8f-3d58-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>41c63f33-263a-3453-0000-000000000000</groupId>
<id>9e4df682-0279-3cb0-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ceff693a-90d5-3bc6-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>4a019650-5776-3bb9-0000-000000000000</groupId>
<id>19b9b82e-6f8f-3d58-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>5ea1ae89-b340-34fb-0000-000000000000</groupId>
<id>4a926248-7b27-341a-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>de91b7b1-1c51-33de-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>4a019650-5776-3bb9-0000-000000000000</groupId>
<id>19b9b82e-6f8f-3d58-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>3bc22818-444a-31cf-0000-000000000000</groupId>
<id>c60d4b98-841f-3117-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>ea728539-b323-3aba-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>4a019650-5776-3bb9-0000-000000000000</groupId>
<id>19b9b82e-6f8f-3d58-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>b6243a7d-4d22-312b-0000-000000000000</groupId>
<id>b1691fde-e141-30e6-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <outputPorts>
                            <id>19b9b82e-6f8f-3d58-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <position>
<x>-488.0</x>
<y>1216.0</y>
                            </position>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>logs to server</name>
                            <state>RUNNING</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processGroups>
                            <id>223cf301-4d90-3ef2-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <position>
<x>288.0</x>
<y>976.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>5e7c57a2-ff1f-3037-0000-000000000000</id>
    <parentGroupId>223cf301-4d90-3ef2-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>223cf301-4d90-3ef2-0000-000000000000</groupId>
        <id>72db92ee-1be6-3445-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>223cf301-4d90-3ef2-0000-000000000000</groupId>
        <id>90ac543a-d9b4-3df5-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>7aa52c2e-8ec2-3098-0000-000000000000</id>
    <parentGroupId>223cf301-4d90-3ef2-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>223cf301-4d90-3ef2-0000-000000000000</groupId>
        <id>72db92ee-1be6-3445-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>223cf301-4d90-3ef2-0000-000000000000</groupId>
        <id>e2972481-8039-3bc8-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>c1bf42c3-d18f-3d4c-0000-000000000000</id>
    <parentGroupId>223cf301-4d90-3ef2-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>223cf301-4d90-3ef2-0000-000000000000</groupId>
        <id>72db92ee-1be6-3445-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>223cf301-4d90-3ef2-0000-000000000000</groupId>
        <id>fe12e565-46fa-3e6c-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ed7ff618-13e6-3f67-0000-000000000000</id>
    <parentGroupId>223cf301-4d90-3ef2-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>223cf301-4d90-3ef2-0000-000000000000</groupId>
        <id>72349af5-06e0-3846-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>223cf301-4d90-3ef2-0000-000000000000</groupId>
        <id>72db92ee-1be6-3445-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<labels>
    <id>7ef9b0d7-4709-365d-0000-000000000000</id>
    <parentGroupId>223cf301-4d90-3ef2-0000-000000000000</parentGroupId>
    <position>
        <x>504.0</x>
        <y>32.0</y>
    </position>
    <height>32.198503494262695</height>
    <label>Чтение gluster_cache и glusterd</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>252.67308044433594</width>
</labels>
<labels>
    <id>c22923a6-8745-3d98-0000-000000000000</id>
    <parentGroupId>223cf301-4d90-3ef2-0000-000000000000</parentGroupId>
    <position>
        <x>1040.0</x>
        <y>72.0</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<labels>
    <id>cab5bc1a-d8e6-3a0f-0000-000000000000</id>
    <parentGroupId>223cf301-4d90-3ef2-0000-000000000000</parentGroupId>
    <position>
        <x>1040.0</x>
        <y>576.0</y>
    </position>
    <height>40.0</height>
    <label>Логирование информации об использовании памяти</label>
    <style>
        <entry>
            <key>background-color</key>
            <value>#2db586</value>
        </entry>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>328.0</width>
</labels>
<outputPorts>
    <id>72349af5-06e0-3846-0000-000000000000</id>
    <parentGroupId>223cf301-4d90-3ef2-0000-000000000000</parentGroupId>
    <position>
        <x>1584.5721422040947</x>
        <y>264.36431761622566</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>gluster to nifi server</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processGroups>
    <id>740bcbf4-1080-3bf7-0000-000000000000</id>
    <parentGroupId>223cf301-4d90-3ef2-0000-000000000000</parentGroupId>
    <position>
        <x>1000.0</x>
        <y>640.0</y>
    </position>
    <comments></comments>
    <contents>
        <connections>
            <id>27a52ef4-cf52-3a25-0000-000000000000</id>
            <parentGroupId>740bcbf4-1080-3bf7-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>740bcbf4-1080-3bf7-0000-000000000000</groupId>
                <id>2cd60b9c-dec5-3f96-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>success</selectedRelationships>
            <source>
                <groupId>740bcbf4-1080-3bf7-0000-000000000000</groupId>
                <id>c36a4fa5-68cf-3e4b-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>2df7f80f-4ced-3029-0000-000000000000</id>
            <parentGroupId>740bcbf4-1080-3bf7-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>740bcbf4-1080-3bf7-0000-000000000000</groupId>
                <id>4ce70232-0f19-312d-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>matched</selectedRelationships>
            <source>
                <groupId>740bcbf4-1080-3bf7-0000-000000000000</groupId>
                <id>2cd60b9c-dec5-3f96-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <processors>
            <id>2cd60b9c-dec5-3f96-0000-000000000000</id>
            <parentGroupId>740bcbf4-1080-3bf7-0000-000000000000</parentGroupId>
            <position>
                <x>1600.0</x>
                <y>712.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.11.1</version>
            </bundle>
            <config>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Character Set</key>
                        <value>
                            <name>Character Set</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Maximum Buffer Size</key>
                        <value>
                            <name>Maximum Buffer Size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Maximum Capture Group Length</key>
                        <value>
                            <name>Maximum Capture Group Length</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Canonical Equivalence</key>
                        <value>
                            <name>Enable Canonical Equivalence</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Case-insensitive Matching</key>
                        <value>
                            <name>Enable Case-insensitive Matching</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Permit Whitespace and Comments in Pattern</key>
                        <value>
                            <name>Permit Whitespace and Comments in Pattern</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable DOTALL Mode</key>
                        <value>
                            <name>Enable DOTALL Mode</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Literal Parsing of the Pattern</key>
                        <value>
                            <name>Enable Literal Parsing of the Pattern</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Multiline Mode</key>
                        <value>
                            <name>Enable Multiline Mode</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Unicode-aware Case Folding</key>
                        <value>
                            <name>Enable Unicode-aware Case Folding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Unicode Predefined Character Classes</key>
                        <value>
                            <name>Enable Unicode Predefined Character Classes</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Unix Lines Mode</key>
                        <value>
                            <name>Enable Unix Lines Mode</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Include Capture Group 0</key>
                        <value>
                            <name>Include Capture Group 0</name>
                        </value>
                    </entry>
                    <entry>
                        <key>extract-text-enable-repeating-capture-group</key>
                        <value>
                            <name>extract-text-enable-repeating-capture-group</name>
                        </value>
                    </entry>
                    <entry>
                        <key>_raw</key>
                        <value>
                            <name>_raw</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Character Set</key>
                        <value>UTF-8</value>
                    </entry>
                    <entry>
                        <key>Maximum Buffer Size</key>
                        <value>1 MB</value>
                    </entry>
                    <entry>
                        <key>Maximum Capture Group Length</key>
                        <value>1024</value>
                    </entry>
                    <entry>
                        <key>Enable Canonical Equivalence</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Enable Case-insensitive Matching</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Permit Whitespace and Comments in Pattern</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Enable DOTALL Mode</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>Enable Literal Parsing of the Pattern</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Enable Multiline Mode</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Enable Unicode-aware Case Folding</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Enable Unicode Predefined Character Classes</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Enable Unix Lines Mode</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Include Capture Group 0</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>extract-text-enable-repeating-capture-group</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>_raw</key>
                        <value>(.*)</value>
                    </entry>
                </properties>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExtractText</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>matched</name>
            </relationships>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>unmatched</name>
            </relationships>
            <state>RUNNING</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExtractText</type>
        </processors>
        <processors>
            <id>4ce70232-0f19-312d-0000-000000000000</id>
            <parentGroupId>740bcbf4-1080-3bf7-0000-000000000000</parentGroupId>
            <position>
                <x>2120.0</x>
                <y>696.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.11.1</version>
            </bundle>
            <config>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>log-level</key>
                        <value>
                            <name>log-level</name>
                        </value>
                    </entry>
                    <entry>
                        <key>log-prefix</key>
                        <value>
                            <name>log-prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>log-message</key>
                        <value>
                            <name>log-message</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>log-level</key>
                        <value>info</value>
                    </entry>
                    <entry>
                        <key>log-prefix</key>
                        <value>glusterfs disk usage:  </value>
                    </entry>
                    <entry>
                        <key>log-message</key>
                        <value>${_raw}</value>
                    </entry>
                </properties>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>LogMessage</name>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
            </relationships>
            <state>RUNNING</state>
            <style/>
            <type>org.apache.nifi.processors.standard.LogMessage</type>
        </processors>
        <processors>
            <id>c36a4fa5-68cf-3e4b-0000-000000000000</id>
            <parentGroupId>740bcbf4-1080-3bf7-0000-000000000000</parentGroupId>
            <position>
                <x>976.0</x>
                <y>704.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.11.1</version>
            </bundle>
            <config>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Command</key>
                        <value>
                            <name>Command</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Command Arguments</key>
                        <value>
                            <name>Command Arguments</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Batch Duration</key>
                        <value>
                            <name>Batch Duration</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Redirect Error Stream</key>
                        <value>
                            <name>Redirect Error Stream</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Working Directory</key>
                        <value>
                            <name>Working Directory</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Argument Delimiter</key>
                        <value>
                            <name>Argument Delimiter</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Command</key>
                        <value>bash</value>
                    </entry>
                    <entry>
                        <key>Command Arguments</key>
                        <value>#{script_gluster_disk_usage}</value>
                    </entry>
                    <entry>
                        <key>Batch Duration</key>
                        <value>1 minute</value>
                    </entry>
                    <entry>
                        <key>Redirect Error Stream</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Working Directory</key>
                    </entry>
                    <entry>
                        <key>Argument Delimiter</key>
                        <value> </value>
                    </entry>
                </properties>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteProcess</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
            </relationships>
            <state>RUNNING</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExecuteProcess</type>
        </processors>
    </contents>
    <name>Log info about disk space</name>
    <variables/>
</processGroups>
<processors>
    <id>72db92ee-1be6-3445-0000-000000000000</id>
    <parentGroupId>223cf301-4d90-3ef2-0000-000000000000</parentGroupId>
    <position>
        <x>1008.0</x>
        <y>208.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>host</key>
                <value>
                    <name>host</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>source</key>
                <value>
                    <name>source</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>host</key>
                <value>${hostname()}</value>
            </entry>
            <entry>
                <key>index</key>
                <value>glusterfslogs</value>
            </entry>
            <entry>
                <key>source</key>
                <value>${tailfile.original.path}</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>glusterlogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>90ac543a-d9b4-3df5-0000-000000000000</id>
    <parentGroupId>223cf301-4d90-3ef2-0000-000000000000</parentGroupId>
    <position>
        <x>440.0</x>
        <y>480.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>tail-mode</key>
                <value>
                    <name>tail-mode</name>
                </value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>
                    <name>File to Tail</name>
                </value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>
                    <name>Rolling Filename Pattern</name>
                </value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>
                    <name>tail-base-directory</name>
                </value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>
                    <name>Initial Start Position</name>
                </value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>
                    <name>File Location</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>
                    <name>tailfile-recursive-lookup</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>
                    <name>tailfile-lookup-frequency</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>
                    <name>tailfile-maximum-age</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>tail-mode</key>
                <value>Multiple files</value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>mnt-brick1.log</value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>${filename}.log.*</value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>#{gluster_base_dir}/bricks</value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>Beginning of File</value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>Local</value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>false</value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>10 minutes</value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>24 hours</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>10 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>TailFile-glusterfs-bricks</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.TailFile</type>
</processors>
<processors>
    <id>e2972481-8039-3bc8-0000-000000000000</id>
    <parentGroupId>223cf301-4d90-3ef2-0000-000000000000</parentGroupId>
    <position>
        <x>440.0</x>
        <y>80.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>tail-mode</key>
                <value>
                    <name>tail-mode</name>
                </value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>
                    <name>File to Tail</name>
                </value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>
                    <name>Rolling Filename Pattern</name>
                </value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>
                    <name>tail-base-directory</name>
                </value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>
                    <name>Initial Start Position</name>
                </value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>
                    <name>File Location</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>
                    <name>tailfile-recursive-lookup</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>
                    <name>tailfile-lookup-frequency</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>
                    <name>tailfile-maximum-age</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>tail-mode</key>
                <value>Multiple files</value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>glusterd.log</value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>${filename}.log.*</value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>#{gluster_base_dir}</value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>Beginning of File</value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>Local</value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>false</value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>10 minutes</value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>24 hours</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>10 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>TailFile-glusterfs-glusterd</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.TailFile</type>
</processors>
<processors>
    <id>fe12e565-46fa-3e6c-0000-000000000000</id>
    <parentGroupId>223cf301-4d90-3ef2-0000-000000000000</parentGroupId>
    <position>
        <x>440.0</x>
        <y>288.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>tail-mode</key>
                <value>
                    <name>tail-mode</name>
                </value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>
                    <name>File to Tail</name>
                </value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>
                    <name>Rolling Filename Pattern</name>
                </value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>
                    <name>tail-base-directory</name>
                </value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>
                    <name>Initial Start Position</name>
                </value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>
                    <name>File Location</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>
                    <name>tailfile-recursive-lookup</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>
                    <name>tailfile-lookup-frequency</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>
                    <name>tailfile-maximum-age</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>tail-mode</key>
                <value>Multiple files</value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>mnt-glfs-caches-.log</value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>${filename}.log.*</value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>#{gluster_base_dir}</value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>Beginning of File</value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>Local</value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>false</value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>10 minutes</value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>24 hours</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>10 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>TailFile-glusterfs-caches</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.TailFile</type>
</processors>
                            </contents>
                            <name>glusterfs client log</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>3bc22818-444a-31cf-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <position>
<x>-232.0</x>
<y>1528.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>21371bc8-ffef-3333-0000-000000000000</id>
    <parentGroupId>3bc22818-444a-31cf-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>3bc22818-444a-31cf-0000-000000000000</groupId>
        <id>0fbe1fa3-53eb-3f43-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>3bc22818-444a-31cf-0000-000000000000</groupId>
        <id>0130e323-87af-3190-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>31479921-4aac-306f-0000-000000000000</id>
    <parentGroupId>3bc22818-444a-31cf-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>3bc22818-444a-31cf-0000-000000000000</groupId>
        <id>0fbe1fa3-53eb-3f43-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>3bc22818-444a-31cf-0000-000000000000</groupId>
        <id>230b2278-693e-3f48-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>4dc67ca0-3703-3755-0000-000000000000</id>
    <parentGroupId>3bc22818-444a-31cf-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>3bc22818-444a-31cf-0000-000000000000</groupId>
        <id>c60d4b98-841f-3117-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>3bc22818-444a-31cf-0000-000000000000</groupId>
        <id>0fbe1fa3-53eb-3f43-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>6777a969-3e9d-3181-0000-000000000000</id>
    <parentGroupId>3bc22818-444a-31cf-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>3bc22818-444a-31cf-0000-000000000000</groupId>
        <id>0130e323-87af-3190-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>3bc22818-444a-31cf-0000-000000000000</groupId>
        <id>bc267ab4-6ec4-39d6-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>f83f6f6e-e971-3c9a-0000-000000000000</id>
    <parentGroupId>3bc22818-444a-31cf-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>3bc22818-444a-31cf-0000-000000000000</groupId>
        <id>230b2278-693e-3f48-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>3bc22818-444a-31cf-0000-000000000000</groupId>
        <id>2ce85a89-0b22-376d-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<labels>
    <id>a1395192-1ff7-31fe-0000-000000000000</id>
    <parentGroupId>3bc22818-444a-31cf-0000-000000000000</parentGroupId>
    <position>
        <x>1472.0</x>
        <y>104.0</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<labels>
    <id>a5d44144-b3f5-3ada-0000-000000000000</id>
    <parentGroupId>3bc22818-444a-31cf-0000-000000000000</parentGroupId>
    <position>
        <x>504.0</x>
        <y>64.0</y>
    </position>
    <height>33.784379959106445</height>
    <label>Чтение логфайлов nifi
 tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>149.59112548828125</width>
</labels>
<outputPorts>
    <id>c60d4b98-841f-3117-0000-000000000000</id>
    <parentGroupId>3bc22818-444a-31cf-0000-000000000000</parentGroupId>
    <position>
        <x>1944.0</x>
        <y>280.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>to nifi server</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>0130e323-87af-3190-0000-000000000000</id>
    <parentGroupId>3bc22818-444a-31cf-0000-000000000000</parentGroupId>
    <position>
        <x>896.0</x>
        <y>120.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>nifi_applogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>0fbe1fa3-53eb-3f43-0000-000000000000</id>
    <parentGroupId>3bc22818-444a-31cf-0000-000000000000</parentGroupId>
    <position>
        <x>1416.0</x>
        <y>264.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>host</key>
                <value>
                    <name>host</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>source</key>
                <value>
                    <name>source</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>host</key>
                <value>${hostname}</value>
            </entry>
            <entry>
                <key>index</key>
                <value>nifilogs</value>
            </entry>
            <entry>
                <key>source</key>
                <value>${tailfile.original.path}</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>230b2278-693e-3f48-0000-000000000000</id>
    <parentGroupId>3bc22818-444a-31cf-0000-000000000000</parentGroupId>
    <position>
        <x>896.0</x>
        <y>376.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>nifi_userlogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>2ce85a89-0b22-376d-0000-000000000000</id>
    <parentGroupId>3bc22818-444a-31cf-0000-000000000000</parentGroupId>
    <position>
        <x>408.0</x>
        <y>376.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>tail-mode</key>
                <value>
                    <name>tail-mode</name>
                </value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>
                    <name>File to Tail</name>
                </value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>
                    <name>Rolling Filename Pattern</name>
                </value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>
                    <name>tail-base-directory</name>
                </value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>
                    <name>Initial Start Position</name>
                </value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>
                    <name>File Location</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>
                    <name>tailfile-recursive-lookup</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>
                    <name>tailfile-lookup-frequency</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>
                    <name>tailfile-maximum-age</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>tail-mode</key>
                <value>Multiple files</value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>nifi-user.log</value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>nifi-user.*</value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>#{nifi_base_dir}</value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>Beginning of File</value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>Local</value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>false</value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>10 minutes</value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>24 hours</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>30 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>TailFile-nifi-user</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.TailFile</type>
</processors>
<processors>
    <id>bc267ab4-6ec4-39d6-0000-000000000000</id>
    <parentGroupId>3bc22818-444a-31cf-0000-000000000000</parentGroupId>
    <position>
        <x>416.0</x>
        <y>120.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>tail-mode</key>
                <value>
                    <name>tail-mode</name>
                </value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>
                    <name>File to Tail</name>
                </value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>
                    <name>Rolling Filename Pattern</name>
                </value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>
                    <name>tail-base-directory</name>
                </value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>
                    <name>Initial Start Position</name>
                </value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>
                    <name>File Location</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>
                    <name>tailfile-recursive-lookup</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>
                    <name>tailfile-lookup-frequency</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>
                    <name>tailfile-maximum-age</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>tail-mode</key>
                <value>Multiple files</value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>nifi-app.log</value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>nifi-app.*</value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>#{nifi_base_dir}</value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>Beginning of File</value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>Local</value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>false</value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>10 minutes</value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>24 hours</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>30 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>TailFile-nifi-app</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.TailFile</type>
</processors>
                            </contents>
                            <name>nifi logs</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>41c63f33-263a-3453-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <position>
<x>-1248.0</x>
<y>1224.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>a420ee3e-b349-3fb3-0000-000000000000</id>
    <parentGroupId>41c63f33-263a-3453-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>41c63f33-263a-3453-0000-000000000000</groupId>
        <id>7eae29cc-d51f-360b-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>41c63f33-263a-3453-0000-000000000000</groupId>
        <id>fc62e8f0-9496-3b98-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>b9f524f5-fd19-36ad-0000-000000000000</id>
    <parentGroupId>41c63f33-263a-3453-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>41c63f33-263a-3453-0000-000000000000</groupId>
        <id>9e4df682-0279-3cb0-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>41c63f33-263a-3453-0000-000000000000</groupId>
        <id>7eae29cc-d51f-360b-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>c87b369f-4228-38d4-0000-000000000000</id>
    <parentGroupId>41c63f33-263a-3453-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>41c63f33-263a-3453-0000-000000000000</groupId>
        <id>7eae29cc-d51f-360b-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>41c63f33-263a-3453-0000-000000000000</groupId>
        <id>88b4a191-0a79-38fd-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<labels>
    <id>20800473-7501-3e37-0000-000000000000</id>
    <parentGroupId>41c63f33-263a-3453-0000-000000000000</parentGroupId>
    <position>
        <x>528.0</x>
        <y>248.0</y>
    </position>
    <height>33.784379959106445</height>
    <label>Чтение логфайлов Spark
 tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>149.59112548828125</width>
</labels>
<labels>
    <id>f0c4b39e-05b3-3f74-0000-000000000000</id>
    <parentGroupId>41c63f33-263a-3453-0000-000000000000</parentGroupId>
    <position>
        <x>1264.0</x>
        <y>288.0</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<outputPorts>
    <id>9e4df682-0279-3cb0-0000-000000000000</id>
    <parentGroupId>41c63f33-263a-3453-0000-000000000000</parentGroupId>
    <position>
        <x>1592.0</x>
        <y>440.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>to nifi server</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>7eae29cc-d51f-360b-0000-000000000000</id>
    <parentGroupId>41c63f33-263a-3453-0000-000000000000</parentGroupId>
    <position>
        <x>1024.0</x>
        <y>432.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>host</key>
                <value>
                    <name>host</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>source</key>
                <value>
                    <name>source</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>host</key>
                <value>${hostname()}</value>
            </entry>
            <entry>
                <key>index</key>
                <value>sparkenvlog</value>
            </entry>
            <entry>
                <key>source</key>
                <value>${tailfile.original.path}</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>sparklogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>88b4a191-0a79-38fd-0000-000000000000</id>
    <parentGroupId>41c63f33-263a-3453-0000-000000000000</parentGroupId>
    <position>
        <x>456.0</x>
        <y>328.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>ERROR</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>tail-mode</key>
                <value>
                    <name>tail-mode</name>
                </value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>
                    <name>File to Tail</name>
                </value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>
                    <name>Rolling Filename Pattern</name>
                </value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>
                    <name>tail-base-directory</name>
                </value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>
                    <name>Initial Start Position</name>
                </value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>
                    <name>File Location</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>
                    <name>tailfile-recursive-lookup</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>
                    <name>tailfile-lookup-frequency</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>
                    <name>tailfile-maximum-age</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>tail-mode</key>
                <value>Multiple files</value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>#{spark_env_dir}/spark.*\.out</value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>${filename}.out.*</value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>#{spark_logs_location}</value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>Beginning of File</value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>Local</value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>true</value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>10 minutes</value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>24 hours</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>10 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>TailFile-sparklog workers</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.TailFile</type>
</processors>
<processors>
    <id>fc62e8f0-9496-3b98-0000-000000000000</id>
    <parentGroupId>41c63f33-263a-3453-0000-000000000000</parentGroupId>
    <position>
        <x>456.0</x>
        <y>536.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>ERROR</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>tail-mode</key>
                <value>
                    <name>tail-mode</name>
                </value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>
                    <name>File to Tail</name>
                </value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>
                    <name>Rolling Filename Pattern</name>
                </value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>
                    <name>tail-base-directory</name>
                </value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>
                    <name>Initial Start Position</name>
                </value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>
                    <name>File Location</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>
                    <name>tailfile-recursive-lookup</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>
                    <name>tailfile-lookup-frequency</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>
                    <name>tailfile-maximum-age</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>tail-mode</key>
                <value>Multiple files</value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>spark.*\.out</value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>${filename}.out.*</value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>#{spark_logs_location}/spark_master</value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>Beginning of File</value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>Local</value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>false</value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>10 minutes</value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>24 hours</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>10 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>TailFile-sparklog master</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.TailFile</type>
</processors>
                            </contents>
                            <name>Sparklogs(info about started workers)</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>4d017708-bc91-3229-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <position>
<x>-1248.0</x>
<y>952.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>081efdb2-18d4-384d-0000-000000000000</id>
    <parentGroupId>4d017708-bc91-3229-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>4d017708-bc91-3229-0000-000000000000</groupId>
        <id>28de91e0-4aa6-34b7-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>4d017708-bc91-3229-0000-000000000000</groupId>
        <id>c3f486b1-e47c-3504-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>16d50c00-f42d-3b57-0000-000000000000</id>
    <parentGroupId>4d017708-bc91-3229-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>4d017708-bc91-3229-0000-000000000000</groupId>
        <id>c3f486b1-e47c-3504-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>4d017708-bc91-3229-0000-000000000000</groupId>
        <id>908e87bc-800c-385d-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<labels>
    <id>8a3fdc50-a07b-3bba-0000-000000000000</id>
    <parentGroupId>4d017708-bc91-3229-0000-000000000000</parentGroupId>
    <position>
        <x>432.0</x>
        <y>176.0</y>
    </position>
    <height>33.784379959106445</height>
    <label>Чтение логфайлов приложений запущенных на spark
 tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>330.74403381347656</width>
</labels>
<labels>
    <id>dd2a3d42-33fd-38f6-0000-000000000000</id>
    <parentGroupId>4d017708-bc91-3229-0000-000000000000</parentGroupId>
    <position>
        <x>1043.072021484375</x>
        <y>100.40738677978516</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<outputPorts>
    <id>28de91e0-4aa6-34b7-0000-000000000000</id>
    <parentGroupId>4d017708-bc91-3229-0000-000000000000</parentGroupId>
    <position>
        <x>1584.5721422040947</x>
        <y>264.36431761622566</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>dispatcher to nifi server</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>908e87bc-800c-385d-0000-000000000000</id>
    <parentGroupId>4d017708-bc91-3229-0000-000000000000</parentGroupId>
    <position>
        <x>424.0</x>
        <y>240.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>tail-mode</key>
                <value>
                    <name>tail-mode</name>
                </value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>
                    <name>File to Tail</name>
                </value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>
                    <name>Rolling Filename Pattern</name>
                </value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>
                    <name>tail-base-directory</name>
                </value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>
                    <name>Initial Start Position</name>
                </value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>
                    <name>File Location</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>
                    <name>tailfile-recursive-lookup</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>
                    <name>tailfile-lookup-frequency</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>
                    <name>tailfile-maximum-age</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>tail-mode</key>
                <value>Multiple files</value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>#{spark_executors_dir_name}/#{spark_driver_name}/stderr</value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>${filename}</value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>#{spark_executors_base_dir}</value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>Beginning of File</value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>Local</value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>true</value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>10 minutes</value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>24 hours</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>10 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>TailFile-spark-driver</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.TailFile</type>
</processors>
<processors>
    <id>c3f486b1-e47c-3504-0000-000000000000</id>
    <parentGroupId>4d017708-bc91-3229-0000-000000000000</parentGroupId>
    <position>
        <x>1006.9624633789062</x>
        <y>230.44053649902344</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>host</key>
                <value>
                    <name>host</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>source</key>
                <value>
                    <name>source</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>host</key>
                <value>${hostname()}</value>
            </entry>
            <entry>
                <key>index</key>
                <value>driverlog</value>
            </entry>
            <entry>
                <key>source</key>
                <value>${tailfile.original.path}</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>driverlog</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
                            </contents>
                            <name>SuperDispatcher logs (driver)</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>5ea1ae89-b340-34fb-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <position>
<x>-240.0</x>
<y>744.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>180cb55b-f6a2-3db2-0000-000000000000</id>
    <parentGroupId>5ea1ae89-b340-34fb-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>5ea1ae89-b340-34fb-0000-000000000000</groupId>
        <id>4a926248-7b27-341a-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>5ea1ae89-b340-34fb-0000-000000000000</groupId>
        <id>5f3a33b3-f094-3d31-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>9be6c616-ebf9-3e5f-0000-000000000000</id>
    <parentGroupId>5ea1ae89-b340-34fb-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>5ea1ae89-b340-34fb-0000-000000000000</groupId>
        <id>5f3a33b3-f094-3d31-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>5ea1ae89-b340-34fb-0000-000000000000</groupId>
        <id>5e986e74-16e9-3f58-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<labels>
    <id>10b00af0-1c02-36ef-0000-000000000000</id>
    <parentGroupId>5ea1ae89-b340-34fb-0000-000000000000</parentGroupId>
    <position>
        <x>1059.1536865234375</x>
        <y>101.55606842041016</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<labels>
    <id>f1c6d405-cd36-3136-0000-000000000000</id>
    <parentGroupId>5ea1ae89-b340-34fb-0000-000000000000</parentGroupId>
    <position>
        <x>454.51458740234375</x>
        <y>184.5975341796875</y>
    </position>
    <height>20.0</height>
    <label>Чтение файла otsimplerest.log tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>230.0</width>
</labels>
<outputPorts>
    <id>4a926248-7b27-341a-0000-000000000000</id>
    <parentGroupId>5ea1ae89-b340-34fb-0000-000000000000</parentGroupId>
    <position>
        <x>1632.8506803064204</x>
        <y>271.660452503789</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>otsimple to nifi</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>5e986e74-16e9-3f58-0000-000000000000</id>
    <parentGroupId>5ea1ae89-b340-34fb-0000-000000000000</parentGroupId>
    <position>
        <x>399.55328369140625</x>
        <y>235.0353240966797</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>tail-mode</key>
                <value>
                    <name>tail-mode</name>
                </value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>
                    <name>File to Tail</name>
                </value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>
                    <name>Rolling Filename Pattern</name>
                </value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>
                    <name>tail-base-directory</name>
                </value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>
                    <name>Initial Start Position</name>
                </value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>
                    <name>File Location</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>
                    <name>tailfile-recursive-lookup</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>
                    <name>tailfile-lookup-frequency</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>
                    <name>tailfile-maximum-age</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>tail-mode</key>
                <value>Multiple files</value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>otsimplerest.log</value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>#{ot_rest_base_dir}</value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>Beginning of File</value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>Local</value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>false</value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>10 minutes</value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>24 hours</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>TailFile-otsimplerest</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.TailFile</type>
</processors>
<processors>
    <id>5f3a33b3-f094-3d31-0000-000000000000</id>
    <parentGroupId>5ea1ae89-b340-34fb-0000-000000000000</parentGroupId>
    <position>
        <x>1027.6389770507812</x>
        <y>235.0353240966797</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>host</key>
                <value>
                    <name>host</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>source</key>
                <value>
                    <name>source</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>host</key>
                <value>${hostname()}</value>
            </entry>
            <entry>
                <key>index</key>
                <value>restlogs</value>
            </entry>
            <entry>
                <key>source</key>
                <value>${tailfile.original.path}</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>rest</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
                            </contents>
                            <name>otsimplerest logs</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>751d4abc-4da5-376d-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <position>
<x>-816.0</x>
<y>1528.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>36e3a80a-8fc0-34b0-0000-000000000000</id>
    <parentGroupId>751d4abc-4da5-376d-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>751d4abc-4da5-376d-0000-000000000000</groupId>
        <id>13eae344-55a6-32ad-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>751d4abc-4da5-376d-0000-000000000000</groupId>
        <id>58543081-c232-3aea-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ff04528f-cf13-3ec9-0000-000000000000</id>
    <parentGroupId>751d4abc-4da5-376d-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>751d4abc-4da5-376d-0000-000000000000</groupId>
        <id>58543081-c232-3aea-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>751d4abc-4da5-376d-0000-000000000000</groupId>
        <id>f0108cae-842d-37f1-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<labels>
    <id>44482022-b18a-3200-0000-000000000000</id>
    <parentGroupId>751d4abc-4da5-376d-0000-000000000000</parentGroupId>
    <position>
        <x>1043.072021484375</x>
        <y>100.40738677978516</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<labels>
    <id>c07f7784-bd97-30ce-0000-000000000000</id>
    <parentGroupId>751d4abc-4da5-376d-0000-000000000000</parentGroupId>
    <position>
        <x>460.00482177734375</x>
        <y>189.24574279785156</y>
    </position>
    <height>33.784379959106445</height>
    <label>Чтение логфайлов приложений запущенных на spark
 tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>330.74403381347656</width>
</labels>
<outputPorts>
    <id>13eae344-55a6-32ad-0000-000000000000</id>
    <parentGroupId>751d4abc-4da5-376d-0000-000000000000</parentGroupId>
    <position>
        <x>1584.5721422040947</x>
        <y>264.36431761622566</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>dispatcher to nifi server</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>58543081-c232-3aea-0000-000000000000</id>
    <parentGroupId>751d4abc-4da5-376d-0000-000000000000</parentGroupId>
    <position>
        <x>1006.9624633789062</x>
        <y>230.44053649902344</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>host</key>
                <value>
                    <name>host</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>source</key>
                <value>
                    <name>source</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>host</key>
                <value>${hostname()}</value>
            </entry>
            <entry>
                <key>index</key>
                <value>sparkapplogs</value>
            </entry>
            <entry>
                <key>source</key>
                <value>${tailfile.original.path}</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>sparkapplogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>f0108cae-842d-37f1-0000-000000000000</id>
    <parentGroupId>751d4abc-4da5-376d-0000-000000000000</parentGroupId>
    <position>
        <x>416.0</x>
        <y>240.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>tail-mode</key>
                <value>
                    <name>tail-mode</name>
                </value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>
                    <name>File to Tail</name>
                </value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>
                    <name>Rolling Filename Pattern</name>
                </value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>
                    <name>tail-base-directory</name>
                </value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>
                    <name>Initial Start Position</name>
                </value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>
                    <name>File Location</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>
                    <name>tailfile-recursive-lookup</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>
                    <name>tailfile-lookup-frequency</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>
                    <name>tailfile-maximum-age</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>tail-mode</key>
                <value>Multiple files</value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>app.*\.inprogress</value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>${filename}</value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>#{spark_event_base_dir}</value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>Beginning of File</value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>Local</value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>false</value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>10 minutes</value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>24 hours</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>10 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>TailFile-spark-submit</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.TailFile</type>
</processors>
                            </contents>
                            <name>Spark app logs</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>b6243a7d-4d22-312b-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <position>
<x>288.0</x>
<y>1256.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>3251cc0f-ab37-3080-0000-000000000000</id>
    <parentGroupId>b6243a7d-4d22-312b-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>b6243a7d-4d22-312b-0000-000000000000</groupId>
        <id>b1691fde-e141-30e6-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>b6243a7d-4d22-312b-0000-000000000000</groupId>
        <id>0c980d01-08a1-320f-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>4557c1ab-f9d1-319c-0000-000000000000</id>
    <parentGroupId>b6243a7d-4d22-312b-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>b6243a7d-4d22-312b-0000-000000000000</groupId>
        <id>08a614cc-fe3f-392d-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>b6243a7d-4d22-312b-0000-000000000000</groupId>
        <id>d03de471-112b-38ee-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>6ee36a9d-8aea-3227-0000-000000000000</id>
    <parentGroupId>b6243a7d-4d22-312b-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>b6243a7d-4d22-312b-0000-000000000000</groupId>
        <id>f764a24d-d17b-3178-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>b6243a7d-4d22-312b-0000-000000000000</groupId>
        <id>337f5305-5418-399e-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>82491425-d4ba-33ef-0000-000000000000</id>
    <parentGroupId>b6243a7d-4d22-312b-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>b6243a7d-4d22-312b-0000-000000000000</groupId>
        <id>0c980d01-08a1-320f-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>b6243a7d-4d22-312b-0000-000000000000</groupId>
        <id>08a614cc-fe3f-392d-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>8db12fb1-94c4-31a6-0000-000000000000</id>
    <parentGroupId>b6243a7d-4d22-312b-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>b6243a7d-4d22-312b-0000-000000000000</groupId>
        <id>0c980d01-08a1-320f-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>b6243a7d-4d22-312b-0000-000000000000</groupId>
        <id>f764a24d-d17b-3178-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<labels>
    <id>61431912-8807-3ab4-0000-000000000000</id>
    <parentGroupId>b6243a7d-4d22-312b-0000-000000000000</parentGroupId>
    <position>
        <x>-1228.0579316229832</x>
        <y>1241.8060937475875</y>
    </position>
    <height>33.784379959106445</height>
    <label>Чтение логфайлов приложений запущенных на spark
 tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>330.74403381347656</width>
</labels>
<labels>
    <id>818f57ad-cdb5-3601-0000-000000000000</id>
    <parentGroupId>b6243a7d-4d22-312b-0000-000000000000</parentGroupId>
    <position>
        <x>-644.990731915952</x>
        <y>1152.967737729521</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<outputPorts>
    <id>b1691fde-e141-30e6-0000-000000000000</id>
    <parentGroupId>b6243a7d-4d22-312b-0000-000000000000</parentGroupId>
    <position>
        <x>384.0</x>
        <y>1408.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>dispatcher to nifi server</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>08a614cc-fe3f-392d-0000-000000000000</id>
    <parentGroupId>b6243a7d-4d22-312b-0000-000000000000</parentGroupId>
    <position>
        <x>-681.1002900214207</x>
        <y>1283.0008874487594</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>host</key>
                <value>
                    <name>host</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>source</key>
                <value>
                    <name>source</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>host</key>
                <value>${hostname()}</value>
            </entry>
            <entry>
                <key>index</key>
                <value>nginxlogs</value>
            </entry>
            <entry>
                <key>source</key>
                <value>${tailfile.original.path}</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>nginxlogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>0c980d01-08a1-320f-0000-000000000000</id>
    <parentGroupId>b6243a7d-4d22-312b-0000-000000000000</parentGroupId>
    <position>
        <x>-152.0</x>
        <y>1392.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>host</key>
                <value>
                    <name>host</name>
                </value>
            </entry>
            <entry>
                <key>source</key>
                <value>
                    <name>source</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>host</key>
                <value>${hostname()}</value>
            </entry>
            <entry>
                <key>source</key>
                <value>${tailfile.original.path}</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>337f5305-5418-399e-0000-000000000000</id>
    <parentGroupId>b6243a7d-4d22-312b-0000-000000000000</parentGroupId>
    <position>
        <x>-1264.0</x>
        <y>1480.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>tail-mode</key>
                <value>
                    <name>tail-mode</name>
                </value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>
                    <name>File to Tail</name>
                </value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>
                    <name>Rolling Filename Pattern</name>
                </value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>
                    <name>tail-base-directory</name>
                </value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>
                    <name>Initial Start Position</name>
                </value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>
                    <name>File Location</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>
                    <name>tailfile-recursive-lookup</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>
                    <name>tailfile-lookup-frequency</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>
                    <name>tailfile-maximum-age</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>tail-mode</key>
                <value>Multiple files</value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>error.log</value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>${filename}.log.*</value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>#{nginx_base_dir}</value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>Beginning of File</value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>Local</value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>false</value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>10 minutes</value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>24 hours</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>10 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>TailFile-nginx-error</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.TailFile</type>
</processors>
<processors>
    <id>d03de471-112b-38ee-0000-000000000000</id>
    <parentGroupId>b6243a7d-4d22-312b-0000-000000000000</parentGroupId>
    <position>
        <x>-1264.062753400327</x>
        <y>1292.560350949736</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>tail-mode</key>
                <value>
                    <name>tail-mode</name>
                </value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>
                    <name>File to Tail</name>
                </value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>
                    <name>Rolling Filename Pattern</name>
                </value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>
                    <name>tail-base-directory</name>
                </value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>
                    <name>Initial Start Position</name>
                </value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>
                    <name>File Location</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>
                    <name>tailfile-recursive-lookup</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>
                    <name>tailfile-lookup-frequency</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>
                    <name>tailfile-maximum-age</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>tail-mode</key>
                <value>Multiple files</value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>access.log</value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>${filename}.log.*</value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>#{nginx_base_dir}</value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>Beginning of File</value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>Local</value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>false</value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>10 minutes</value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>24 hours</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>10 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>TailFile-nginx-access</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.TailFile</type>
</processors>
<processors>
    <id>f764a24d-d17b-3178-0000-000000000000</id>
    <parentGroupId>b6243a7d-4d22-312b-0000-000000000000</parentGroupId>
    <position>
        <x>-680.0</x>
        <y>1472.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>index</key>
                <value>nginxerror</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>nginxerror</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
                            </contents>
                            <name>nginx logs</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>ca3a03f3-0345-3b45-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <position>
<x>304.0</x>
<y>1520.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>4832566a-9a20-3330-0000-000000000000</id>
    <parentGroupId>ca3a03f3-0345-3b45-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>ca3a03f3-0345-3b45-0000-000000000000</groupId>
        <id>3a1222f4-329b-3ed7-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>ca3a03f3-0345-3b45-0000-000000000000</groupId>
        <id>82283b15-59ff-38c7-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>8b270b33-b540-3d2c-0000-000000000000</id>
    <parentGroupId>ca3a03f3-0345-3b45-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>ca3a03f3-0345-3b45-0000-000000000000</groupId>
        <id>c6823b58-95af-3d28-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>matched</selectedRelationships>
    <source>
        <groupId>ca3a03f3-0345-3b45-0000-000000000000</groupId>
        <id>3a1222f4-329b-3ed7-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<processors>
    <id>3a1222f4-329b-3ed7-0000-000000000000</id>
    <parentGroupId>ca3a03f3-0345-3b45-0000-000000000000</parentGroupId>
    <position>
        <x>-1065.6605523185626</x>
        <y>794.3714227785342</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Character Set</key>
                <value>
                    <name>Character Set</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>
                    <name>Maximum Buffer Size</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Capture Group Length</key>
                <value>
                    <name>Maximum Capture Group Length</name>
                </value>
            </entry>
            <entry>
                <key>Enable Canonical Equivalence</key>
                <value>
                    <name>Enable Canonical Equivalence</name>
                </value>
            </entry>
            <entry>
                <key>Enable Case-insensitive Matching</key>
                <value>
                    <name>Enable Case-insensitive Matching</name>
                </value>
            </entry>
            <entry>
                <key>Permit Whitespace and Comments in Pattern</key>
                <value>
                    <name>Permit Whitespace and Comments in Pattern</name>
                </value>
            </entry>
            <entry>
                <key>Enable DOTALL Mode</key>
                <value>
                    <name>Enable DOTALL Mode</name>
                </value>
            </entry>
            <entry>
                <key>Enable Literal Parsing of the Pattern</key>
                <value>
                    <name>Enable Literal Parsing of the Pattern</name>
                </value>
            </entry>
            <entry>
                <key>Enable Multiline Mode</key>
                <value>
                    <name>Enable Multiline Mode</name>
                </value>
            </entry>
            <entry>
                <key>Enable Unicode-aware Case Folding</key>
                <value>
                    <name>Enable Unicode-aware Case Folding</name>
                </value>
            </entry>
            <entry>
                <key>Enable Unicode Predefined Character Classes</key>
                <value>
                    <name>Enable Unicode Predefined Character Classes</name>
                </value>
            </entry>
            <entry>
                <key>Enable Unix Lines Mode</key>
                <value>
                    <name>Enable Unix Lines Mode</name>
                </value>
            </entry>
            <entry>
                <key>Include Capture Group 0</key>
                <value>
                    <name>Include Capture Group 0</name>
                </value>
            </entry>
            <entry>
                <key>extract-text-enable-repeating-capture-group</key>
                <value>
                    <name>extract-text-enable-repeating-capture-group</name>
                </value>
            </entry>
            <entry>
                <key>_raw</key>
                <value>
                    <name>_raw</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>1 MB</value>
            </entry>
            <entry>
                <key>Maximum Capture Group Length</key>
                <value>1024</value>
            </entry>
            <entry>
                <key>Enable Canonical Equivalence</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Enable Case-insensitive Matching</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Permit Whitespace and Comments in Pattern</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Enable DOTALL Mode</key>
                <value>true</value>
            </entry>
            <entry>
                <key>Enable Literal Parsing of the Pattern</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Enable Multiline Mode</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Enable Unicode-aware Case Folding</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Enable Unicode Predefined Character Classes</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Enable Unix Lines Mode</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Include Capture Group 0</key>
                <value>true</value>
            </entry>
            <entry>
                <key>extract-text-enable-repeating-capture-group</key>
                <value>false</value>
            </entry>
            <entry>
                <key>_raw</key>
                <value>(.*)</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>ExtractText</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>matched</name>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>unmatched</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ExtractText</type>
</processors>
<processors>
    <id>82283b15-59ff-38c7-0000-000000000000</id>
    <parentGroupId>ca3a03f3-0345-3b45-0000-000000000000</parentGroupId>
    <position>
        <x>-1689.6605523185626</x>
        <y>786.3714227785342</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Command</key>
                <value>
                    <name>Command</name>
                </value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>
                    <name>Command Arguments</name>
                </value>
            </entry>
            <entry>
                <key>Batch Duration</key>
                <value>
                    <name>Batch Duration</name>
                </value>
            </entry>
            <entry>
                <key>Redirect Error Stream</key>
                <value>
                    <name>Redirect Error Stream</name>
                </value>
            </entry>
            <entry>
                <key>Working Directory</key>
                <value>
                    <name>Working Directory</name>
                </value>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value>
                    <name>Argument Delimiter</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Command</key>
                <value>bash</value>
            </entry>
            <entry>
                <key>Command Arguments</key>
                <value>#{script_memory_for_extra_data}</value>
            </entry>
            <entry>
                <key>Batch Duration</key>
                <value>1 hour</value>
            </entry>
            <entry>
                <key>Redirect Error Stream</key>
                <value>false</value>
            </entry>
            <entry>
                <key>Working Directory</key>
            </entry>
            <entry>
                <key>Argument Delimiter</key>
                <value> </value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>ExecuteProcess</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ExecuteProcess</type>
</processors>
<processors>
    <id>c6823b58-95af-3d28-0000-000000000000</id>
    <parentGroupId>ca3a03f3-0345-3b45-0000-000000000000</parentGroupId>
    <position>
        <x>-545.6605523185626</x>
        <y>778.3714227785342</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>info</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>service info:</value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>${_raw}</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>LogMessage</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>success</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
                            </contents>
                            <name>service info</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>db862ea9-87dd-3ac1-0000-000000000000</id>
                            <parentGroupId>4a019650-5776-3bb9-0000-000000000000</parentGroupId>
                            <position>
<x>-784.0</x>
<y>744.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>11f30d69-b46c-33ab-0000-000000000000</id>
    <parentGroupId>db862ea9-87dd-3ac1-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>db862ea9-87dd-3ac1-0000-000000000000</groupId>
        <id>893cc1dd-3094-3948-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>db862ea9-87dd-3ac1-0000-000000000000</groupId>
        <id>e26bd6fd-d42c-351f-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>f82b5315-cb30-3ffa-0000-000000000000</id>
    <parentGroupId>db862ea9-87dd-3ac1-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>db862ea9-87dd-3ac1-0000-000000000000</groupId>
        <id>a9faea56-0df9-3434-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>db862ea9-87dd-3ac1-0000-000000000000</groupId>
        <id>893cc1dd-3094-3948-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<labels>
    <id>074e1f62-3977-3001-0000-000000000000</id>
    <parentGroupId>db862ea9-87dd-3ac1-0000-000000000000</parentGroupId>
    <position>
        <x>1043.072021484375</x>
        <y>100.40738677978516</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<labels>
    <id>7ccbeae4-7e8f-316e-0000-000000000000</id>
    <parentGroupId>db862ea9-87dd-3ac1-0000-000000000000</parentGroupId>
    <position>
        <x>432.0</x>
        <y>176.0</y>
    </position>
    <height>33.784379959106445</height>
    <label>Чтение логфайлов приложений запущенных на spark
 tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>330.74403381347656</width>
</labels>
<outputPorts>
    <id>a9faea56-0df9-3434-0000-000000000000</id>
    <parentGroupId>db862ea9-87dd-3ac1-0000-000000000000</parentGroupId>
    <position>
        <x>1584.5721422040947</x>
        <y>264.36431761622566</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>dispatcher to nifi server</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>893cc1dd-3094-3948-0000-000000000000</id>
    <parentGroupId>db862ea9-87dd-3ac1-0000-000000000000</parentGroupId>
    <position>
        <x>1006.9624633789062</x>
        <y>230.44053649902344</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>host</key>
                <value>
                    <name>host</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>source</key>
                <value>
                    <name>source</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>host</key>
                <value>${hostname()}</value>
            </entry>
            <entry>
                <key>index</key>
                <value>executorslog</value>
            </entry>
            <entry>
                <key>source</key>
                <value>${tailfile.original.path}</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>executorslogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>e26bd6fd-d42c-351f-0000-000000000000</id>
    <parentGroupId>db862ea9-87dd-3ac1-0000-000000000000</parentGroupId>
    <position>
        <x>424.0</x>
        <y>240.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>tail-mode</key>
                <value>
                    <name>tail-mode</name>
                </value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>
                    <name>File to Tail</name>
                </value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
                <value>
                    <name>Rolling Filename Pattern</name>
                </value>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>
                    <name>tail-base-directory</name>
                </value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>
                    <name>Initial Start Position</name>
                </value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>
                    <name>File Location</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>
                    <name>tailfile-recursive-lookup</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>
                    <name>tailfile-lookup-frequency</name>
                </value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>
                    <name>tailfile-maximum-age</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>tail-mode</key>
                <value>Multiple files</value>
            </entry>
            <entry>
                <key>File to Tail</key>
                <value>#{spark_executors_dir_name}/#{spark_app_name}/[0-9]/stderr</value>
            </entry>
            <entry>
                <key>Rolling Filename Pattern</key>
            </entry>
            <entry>
                <key>tail-base-directory</key>
                <value>#{spark_executors_base_dir}</value>
            </entry>
            <entry>
                <key>Initial Start Position</key>
                <value>Beginning of File</value>
            </entry>
            <entry>
                <key>File Location</key>
                <value>Local</value>
            </entry>
            <entry>
                <key>tailfile-recursive-lookup</key>
                <value>true</value>
            </entry>
            <entry>
                <key>tailfile-lookup-frequency</key>
                <value>10 minutes</value>
            </entry>
            <entry>
                <key>tailfile-maximum-age</key>
                <value>24 hours</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>10 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>TailFile-spark-executors</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>STOPPED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.TailFile</type>
</processors>
                            </contents>
                            <name>Sparklogs (executors)</name>
                            <variables/>
                        </processGroups>
                    </contents>
                    <name>Take logs from components</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>9a68ea8f-b174-3af4-0000-000000000000</id>
                    <parentGroupId>dacb53d2-18a8-3ff4-0000-000000000000</parentGroupId>
                    <position>
                        <x>240.0</x>
                        <y>920.0</y>
                    </position>
                    <comments></comments>
                    <contents>
                        <connections>
                            <id>03825336-e3bd-38a2-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>a87378b9-f69e-3271-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>138324c5-25e4-3dee-0000-000000000000</groupId>
<id>c9136285-559b-3704-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>04f7e37a-283c-3e72-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>a5c0e529-5b38-3c3e-0000-000000000000</groupId>
<id>9b370809-4648-3b02-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>spark-app</selectedRelationships>
                            <source>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>28cbce69-4cd8-37b5-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>273a7629-6fa2-371a-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>a87378b9-f69e-3271-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>a5c0e529-5b38-3c3e-0000-000000000000</groupId>
<id>4ccdd49f-1d14-3bb5-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>36bc0e60-17e9-313e-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>0bcb524e-4c36-3af7-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>matched</selectedRelationships>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>2d41e86a-88bc-31b1-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3bfbee21-f55e-32ac-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>138324c5-25e4-3dee-0000-000000000000</groupId>
<id>c0d7a3e7-2a74-3709-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>rest</selectedRelationships>
                            <source>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>28cbce69-4cd8-37b5-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>414231ec-863a-3216-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>6fa94b8b-fe48-3beb-0000-000000000000</groupId>
<id>c4d075c9-c55a-3d0b-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nginx</selectedRelationships>
                            <source>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>28cbce69-4cd8-37b5-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4b3466ce-0f0e-34cd-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>2d41e86a-88bc-31b1-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>a020b4ab-fa63-31eb-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>5523da5f-0dc8-3786-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>a87378b9-f69e-3271-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>e3ce6e47-6c37-3d0a-0000-000000000000</groupId>
<id>e8fe5874-fc8c-3349-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>62fbc139-9431-3774-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>e3ce6e47-6c37-3d0a-0000-000000000000</groupId>
<id>637c30b0-900f-3518-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>spark-workers</selectedRelationships>
                            <source>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>28cbce69-4cd8-37b5-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>67ad519e-d634-3c6e-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>a87378b9-f69e-3271-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
<id>46df09b6-dad6-35b0-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>84f6607f-00ca-31f0-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>a87378b9-f69e-3271-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>3608c09a-ead5-3360-0000-000000000000</groupId>
<id>c3f44807-2203-37dd-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>8ca7d934-cd67-389c-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>7b943745-8bc0-3e45-0000-000000000000</groupId>
<id>e14f046f-5e41-3e9f-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>spark-driver</selectedRelationships>
                            <source>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>28cbce69-4cd8-37b5-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>98b51c52-8043-3b70-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>a87378b9-f69e-3271-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>022622ce-a89c-3881-0000-000000000000</groupId>
<id>151e0b79-bdc8-3009-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a57c5612-b6f1-3427-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>a87378b9-f69e-3271-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>6fa94b8b-fe48-3beb-0000-000000000000</groupId>
<id>48b32d13-fb2e-3f29-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>bdcfc378-9247-3413-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>3608c09a-ead5-3360-0000-000000000000</groupId>
<id>1aa04ab8-ebd9-3499-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>gluster</selectedRelationships>
                            <source>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>28cbce69-4cd8-37b5-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>cb515b19-c4bf-3419-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>28cbce69-4cd8-37b5-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>0bcb524e-4c36-3af7-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>cbfcdc66-88e6-3a57-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
<id>90014dbd-e25f-304c-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nifi_app</selectedRelationships>
                            <selectedRelationships>nifi_user</selectedRelationships>
                            <source>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>28cbce69-4cd8-37b5-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e5348126-c5b6-35ad-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>022622ce-a89c-3881-0000-000000000000</groupId>
<id>2b8be406-8e91-348c-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>spark-executors</selectedRelationships>
                            <source>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>28cbce69-4cd8-37b5-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f68539e2-684c-34c6-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>9a68ea8f-b174-3af4-0000-000000000000</groupId>
<id>a87378b9-f69e-3271-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>7b943745-8bc0-3e45-0000-000000000000</groupId>
<id>994f1a6c-3cbe-3345-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <labels>
                            <id>429bb605-40cd-34d6-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-2968.0</x>
<y>1008.0</y>
                            </position>
                            <height>136.0</height>
                            <label>Логи приходят на настроенный порт(сейчас 1027), 
из них достается тэг,поставленный сислогом и на основе 
тэга строчка лога направляется для дальнейшего парсинга.</label>
                            <style>
<entry>
    <key>font-size</key>
    <value>14px</value>
</entry>
                            </style>
                            <width>448.0</width>
                        </labels>
                        <outputPorts>
                            <id>a87378b9-f69e-3271-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-312.0</x>
<y>1240.0</y>
                            </position>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>logs to server</name>
                            <state>DISABLED</state>
                            <type>OUTPUT_PORT</type>
                        </outputPorts>
                        <processGroups>
                            <id>022622ce-a89c-3881-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-1536.0</x>
<y>856.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>81abfe08-ced4-3271-0000-000000000000</id>
    <parentGroupId>022622ce-a89c-3881-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>022622ce-a89c-3881-0000-000000000000</groupId>
        <id>652cba55-3240-3230-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>022622ce-a89c-3881-0000-000000000000</groupId>
        <id>2b8be406-8e91-348c-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>92a6741f-aa23-3b0e-0000-000000000000</id>
    <parentGroupId>022622ce-a89c-3881-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>022622ce-a89c-3881-0000-000000000000</groupId>
        <id>151e0b79-bdc8-3009-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>022622ce-a89c-3881-0000-000000000000</groupId>
        <id>12a47b56-aed5-317d-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>c676170e-f07d-3158-0000-000000000000</id>
    <parentGroupId>022622ce-a89c-3881-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>022622ce-a89c-3881-0000-000000000000</groupId>
        <id>12a47b56-aed5-317d-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>022622ce-a89c-3881-0000-000000000000</groupId>
        <id>652cba55-3240-3230-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>2b8be406-8e91-348c-0000-000000000000</id>
    <parentGroupId>022622ce-a89c-3881-0000-000000000000</parentGroupId>
    <position>
        <x>192.0</x>
        <y>256.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>from tcp</name>
    <state>DISABLED</state>
    <type>INPUT_PORT</type>
</inputPorts>
<labels>
    <id>366406dc-d723-326f-0000-000000000000</id>
    <parentGroupId>022622ce-a89c-3881-0000-000000000000</parentGroupId>
    <position>
        <x>1043.072021484375</x>
        <y>100.40738677978516</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<labels>
    <id>a4396116-f5ea-3e8b-0000-000000000000</id>
    <parentGroupId>022622ce-a89c-3881-0000-000000000000</parentGroupId>
    <position>
        <x>432.0</x>
        <y>176.0</y>
    </position>
    <height>33.784379959106445</height>
    <label>Чтение логфайлов приложений запущенных на spark
 tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>330.74403381347656</width>
</labels>
<outputPorts>
    <id>151e0b79-bdc8-3009-0000-000000000000</id>
    <parentGroupId>022622ce-a89c-3881-0000-000000000000</parentGroupId>
    <position>
        <x>1584.5721422040947</x>
        <y>264.36431761622566</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>dispatcher to nifi server</name>
    <state>DISABLED</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>12a47b56-aed5-317d-0000-000000000000</id>
    <parentGroupId>022622ce-a89c-3881-0000-000000000000</parentGroupId>
    <position>
        <x>1024.0</x>
        <y>248.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Regular Expression</key>
                <value>
                    <name>Regular Expression</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value>
                    <name>Replacement Value</name>
                </value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>
                    <name>Character Set</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>
                    <name>Maximum Buffer Size</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>
                    <name>Replacement Strategy</name>
                </value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>
                    <name>Evaluation Mode</name>
                </value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>
                    <name>Line-by-Line Evaluation Mode</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Regular Expression</key>
                <value>(host=\S+ tag=\S+:|tag=\S+:)</value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value></value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>1 MB</value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>Regex Replace</value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>Entire text</value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>All</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>ReplaceText</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ReplaceText</type>
</processors>
<processors>
    <id>652cba55-3240-3230-0000-000000000000</id>
    <parentGroupId>022622ce-a89c-3881-0000-000000000000</parentGroupId>
    <position>
        <x>504.0</x>
        <y>248.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>index</key>
                <value>executorslog</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>executorslogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
                            </contents>
                            <name>Sparklogs (executors)</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>138324c5-25e4-3dee-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-1112.0</x>
<y>856.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>71f425a8-4a07-3a14-0000-000000000000</id>
    <parentGroupId>138324c5-25e4-3dee-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>138324c5-25e4-3dee-0000-000000000000</groupId>
        <id>5adc91a1-6bc6-38e4-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>138324c5-25e4-3dee-0000-000000000000</groupId>
        <id>9e343933-dccb-3162-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>b707631d-414f-3f30-0000-000000000000</id>
    <parentGroupId>138324c5-25e4-3dee-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>138324c5-25e4-3dee-0000-000000000000</groupId>
        <id>c9136285-559b-3704-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>138324c5-25e4-3dee-0000-000000000000</groupId>
        <id>5adc91a1-6bc6-38e4-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>d5cf8357-9aa9-37e8-0000-000000000000</id>
    <parentGroupId>138324c5-25e4-3dee-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>138324c5-25e4-3dee-0000-000000000000</groupId>
        <id>9e343933-dccb-3162-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>138324c5-25e4-3dee-0000-000000000000</groupId>
        <id>c0d7a3e7-2a74-3709-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>c0d7a3e7-2a74-3709-0000-000000000000</id>
    <parentGroupId>138324c5-25e4-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>32.0</x>
        <y>256.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>from tcp</name>
    <state>DISABLED</state>
    <type>INPUT_PORT</type>
</inputPorts>
<labels>
    <id>239d3fca-dea2-3e00-0000-000000000000</id>
    <parentGroupId>138324c5-25e4-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>454.51458740234375</x>
        <y>184.5975341796875</y>
    </position>
    <height>20.0</height>
    <label>Чтение файла otsimplerest.log tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>230.0</width>
</labels>
<labels>
    <id>c771ecf6-12ea-360f-0000-000000000000</id>
    <parentGroupId>138324c5-25e4-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>1059.1536865234375</x>
        <y>101.55606842041016</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<outputPorts>
    <id>c9136285-559b-3704-0000-000000000000</id>
    <parentGroupId>138324c5-25e4-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>1632.8506803064204</x>
        <y>271.660452503789</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>otsimple to nifi</name>
    <state>DISABLED</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>5adc91a1-6bc6-38e4-0000-000000000000</id>
    <parentGroupId>138324c5-25e4-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>1024.0</x>
        <y>248.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Regular Expression</key>
                <value>
                    <name>Regular Expression</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value>
                    <name>Replacement Value</name>
                </value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>
                    <name>Character Set</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>
                    <name>Maximum Buffer Size</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>
                    <name>Replacement Strategy</name>
                </value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>
                    <name>Evaluation Mode</name>
                </value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>
                    <name>Line-by-Line Evaluation Mode</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Regular Expression</key>
                <value>(host=\S+ tag=\S+:|tag=\S+:)</value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value></value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>1 MB</value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>Regex Replace</value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>Entire text</value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>All</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>ReplaceText</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ReplaceText</type>
</processors>
<processors>
    <id>9e343933-dccb-3162-0000-000000000000</id>
    <parentGroupId>138324c5-25e4-3dee-0000-000000000000</parentGroupId>
    <position>
        <x>408.0</x>
        <y>232.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>index</key>
                <value>restlogs</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>rest</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
                            </contents>
                            <name>OTsimplerest logs</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>3608c09a-ead5-3360-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-680.0</x>
<y>856.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>7069a46c-47da-3598-0000-000000000000</id>
    <parentGroupId>3608c09a-ead5-3360-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>3608c09a-ead5-3360-0000-000000000000</groupId>
        <id>c3f44807-2203-37dd-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>3608c09a-ead5-3360-0000-000000000000</groupId>
        <id>ad69be4d-2834-358b-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>80b158b1-4bfb-33c2-0000-000000000000</id>
    <parentGroupId>3608c09a-ead5-3360-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>3608c09a-ead5-3360-0000-000000000000</groupId>
        <id>945fdce4-3e99-3b82-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>3608c09a-ead5-3360-0000-000000000000</groupId>
        <id>1aa04ab8-ebd9-3499-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>9c36284b-48b2-3150-0000-000000000000</id>
    <parentGroupId>3608c09a-ead5-3360-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>3608c09a-ead5-3360-0000-000000000000</groupId>
        <id>ad69be4d-2834-358b-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>3608c09a-ead5-3360-0000-000000000000</groupId>
        <id>945fdce4-3e99-3b82-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>1aa04ab8-ebd9-3499-0000-000000000000</id>
    <parentGroupId>3608c09a-ead5-3360-0000-000000000000</parentGroupId>
    <position>
        <x>-40.0</x>
        <y>256.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>from tcp</name>
    <state>DISABLED</state>
    <type>INPUT_PORT</type>
</inputPorts>
<labels>
    <id>1273bcbf-ebc1-37ba-0000-000000000000</id>
    <parentGroupId>3608c09a-ead5-3360-0000-000000000000</parentGroupId>
    <position>
        <x>496.0</x>
        <y>80.0</y>
    </position>
    <height>32.198503494262695</height>
    <label>Чтение gluster_cache и glusterd</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>252.67308044433594</width>
</labels>
<labels>
    <id>3acb070f-5bb3-3769-0000-000000000000</id>
    <parentGroupId>3608c09a-ead5-3360-0000-000000000000</parentGroupId>
    <position>
        <x>1040.0</x>
        <y>72.0</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<labels>
    <id>b2e0a644-53bc-35b6-0000-000000000000</id>
    <parentGroupId>3608c09a-ead5-3360-0000-000000000000</parentGroupId>
    <position>
        <x>1040.0</x>
        <y>576.0</y>
    </position>
    <height>40.0</height>
    <label>Логирование информации об использовании памяти</label>
    <style>
        <entry>
            <key>background-color</key>
            <value>#2db586</value>
        </entry>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>328.0</width>
</labels>
<outputPorts>
    <id>c3f44807-2203-37dd-0000-000000000000</id>
    <parentGroupId>3608c09a-ead5-3360-0000-000000000000</parentGroupId>
    <position>
        <x>1584.5721422040947</x>
        <y>264.36431761622566</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>gluster to nifi server</name>
    <state>DISABLED</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processGroups>
    <id>01a0bff3-7db2-3fa9-0000-000000000000</id>
    <parentGroupId>3608c09a-ead5-3360-0000-000000000000</parentGroupId>
    <position>
        <x>1000.0</x>
        <y>640.0</y>
    </position>
    <comments></comments>
    <contents>
        <connections>
            <id>066a1e96-e171-3d41-0000-000000000000</id>
            <parentGroupId>01a0bff3-7db2-3fa9-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>01a0bff3-7db2-3fa9-0000-000000000000</groupId>
                <id>d3e7ea16-7a54-3de6-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>success</selectedRelationships>
            <source>
                <groupId>01a0bff3-7db2-3fa9-0000-000000000000</groupId>
                <id>4a6bf2e7-3598-3afc-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <connections>
            <id>5c49909d-2647-31bc-0000-000000000000</id>
            <parentGroupId>01a0bff3-7db2-3fa9-0000-000000000000</parentGroupId>
            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
            <destination>
                <groupId>01a0bff3-7db2-3fa9-0000-000000000000</groupId>
                <id>0fa8372d-0ebd-3978-0000-000000000000</id>
                <type>PROCESSOR</type>
            </destination>
            <flowFileExpiration>0 sec</flowFileExpiration>
            <labelIndex>1</labelIndex>
            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
            <name></name>
            <selectedRelationships>matched</selectedRelationships>
            <source>
                <groupId>01a0bff3-7db2-3fa9-0000-000000000000</groupId>
                <id>d3e7ea16-7a54-3de6-0000-000000000000</id>
                <type>PROCESSOR</type>
            </source>
            <zIndex>0</zIndex>
        </connections>
        <processors>
            <id>0fa8372d-0ebd-3978-0000-000000000000</id>
            <parentGroupId>01a0bff3-7db2-3fa9-0000-000000000000</parentGroupId>
            <position>
                <x>2120.0</x>
                <y>696.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.11.1</version>
            </bundle>
            <config>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>log-level</key>
                        <value>
                            <name>log-level</name>
                        </value>
                    </entry>
                    <entry>
                        <key>log-prefix</key>
                        <value>
                            <name>log-prefix</name>
                        </value>
                    </entry>
                    <entry>
                        <key>log-message</key>
                        <value>
                            <name>log-message</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>log-level</key>
                        <value>info</value>
                    </entry>
                    <entry>
                        <key>log-prefix</key>
                        <value>glusterfs disk usage:  </value>
                    </entry>
                    <entry>
                        <key>log-message</key>
                        <value>${_raw}</value>
                    </entry>
                </properties>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>LogMessage</name>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>success</name>
            </relationships>
            <state>DISABLED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.LogMessage</type>
        </processors>
        <processors>
            <id>4a6bf2e7-3598-3afc-0000-000000000000</id>
            <parentGroupId>01a0bff3-7db2-3fa9-0000-000000000000</parentGroupId>
            <position>
                <x>976.0</x>
                <y>704.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.11.1</version>
            </bundle>
            <config>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Command</key>
                        <value>
                            <name>Command</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Command Arguments</key>
                        <value>
                            <name>Command Arguments</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Batch Duration</key>
                        <value>
                            <name>Batch Duration</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Redirect Error Stream</key>
                        <value>
                            <name>Redirect Error Stream</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Working Directory</key>
                        <value>
                            <name>Working Directory</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Argument Delimiter</key>
                        <value>
                            <name>Argument Delimiter</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Command</key>
                        <value>bash</value>
                    </entry>
                    <entry>
                        <key>Command Arguments</key>
                        <value>/root/script.sh</value>
                    </entry>
                    <entry>
                        <key>Batch Duration</key>
                        <value>5 hour</value>
                    </entry>
                    <entry>
                        <key>Redirect Error Stream</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Working Directory</key>
                    </entry>
                    <entry>
                        <key>Argument Delimiter</key>
                        <value> </value>
                    </entry>
                </properties>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExecuteProcess</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>success</name>
            </relationships>
            <state>DISABLED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExecuteProcess</type>
        </processors>
        <processors>
            <id>d3e7ea16-7a54-3de6-0000-000000000000</id>
            <parentGroupId>01a0bff3-7db2-3fa9-0000-000000000000</parentGroupId>
            <position>
                <x>1600.0</x>
                <y>712.0</y>
            </position>
            <bundle>
                <artifact>nifi-standard-nar</artifact>
                <group>org.apache.nifi</group>
                <version>1.11.1</version>
            </bundle>
            <config>
                <bulletinLevel>WARN</bulletinLevel>
                <comments></comments>
                <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                <descriptors>
                    <entry>
                        <key>Character Set</key>
                        <value>
                            <name>Character Set</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Maximum Buffer Size</key>
                        <value>
                            <name>Maximum Buffer Size</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Maximum Capture Group Length</key>
                        <value>
                            <name>Maximum Capture Group Length</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Canonical Equivalence</key>
                        <value>
                            <name>Enable Canonical Equivalence</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Case-insensitive Matching</key>
                        <value>
                            <name>Enable Case-insensitive Matching</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Permit Whitespace and Comments in Pattern</key>
                        <value>
                            <name>Permit Whitespace and Comments in Pattern</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable DOTALL Mode</key>
                        <value>
                            <name>Enable DOTALL Mode</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Literal Parsing of the Pattern</key>
                        <value>
                            <name>Enable Literal Parsing of the Pattern</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Multiline Mode</key>
                        <value>
                            <name>Enable Multiline Mode</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Unicode-aware Case Folding</key>
                        <value>
                            <name>Enable Unicode-aware Case Folding</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Unicode Predefined Character Classes</key>
                        <value>
                            <name>Enable Unicode Predefined Character Classes</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Enable Unix Lines Mode</key>
                        <value>
                            <name>Enable Unix Lines Mode</name>
                        </value>
                    </entry>
                    <entry>
                        <key>Include Capture Group 0</key>
                        <value>
                            <name>Include Capture Group 0</name>
                        </value>
                    </entry>
                    <entry>
                        <key>extract-text-enable-repeating-capture-group</key>
                        <value>
                            <name>extract-text-enable-repeating-capture-group</name>
                        </value>
                    </entry>
                    <entry>
                        <key>_raw</key>
                        <value>
                            <name>_raw</name>
                        </value>
                    </entry>
                </descriptors>
                <executionNode>ALL</executionNode>
                <lossTolerant>false</lossTolerant>
                <penaltyDuration>30 sec</penaltyDuration>
                <properties>
                    <entry>
                        <key>Character Set</key>
                        <value>UTF-8</value>
                    </entry>
                    <entry>
                        <key>Maximum Buffer Size</key>
                        <value>1 MB</value>
                    </entry>
                    <entry>
                        <key>Maximum Capture Group Length</key>
                        <value>1024</value>
                    </entry>
                    <entry>
                        <key>Enable Canonical Equivalence</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Enable Case-insensitive Matching</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Permit Whitespace and Comments in Pattern</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Enable DOTALL Mode</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>Enable Literal Parsing of the Pattern</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Enable Multiline Mode</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Enable Unicode-aware Case Folding</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Enable Unicode Predefined Character Classes</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Enable Unix Lines Mode</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>Include Capture Group 0</key>
                        <value>true</value>
                    </entry>
                    <entry>
                        <key>extract-text-enable-repeating-capture-group</key>
                        <value>false</value>
                    </entry>
                    <entry>
                        <key>_raw</key>
                        <value>(.*)</value>
                    </entry>
                </properties>
                <runDurationMillis>0</runDurationMillis>
                <schedulingPeriod>0 sec</schedulingPeriod>
                <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
                <yieldDuration>1 sec</yieldDuration>
            </config>
            <executionNodeRestricted>false</executionNodeRestricted>
            <name>ExtractText</name>
            <relationships>
                <autoTerminate>false</autoTerminate>
                <name>matched</name>
            </relationships>
            <relationships>
                <autoTerminate>true</autoTerminate>
                <name>unmatched</name>
            </relationships>
            <state>DISABLED</state>
            <style/>
            <type>org.apache.nifi.processors.standard.ExtractText</type>
        </processors>
    </contents>
    <name>Log info about disk space</name>
    <variables/>
</processGroups>
<processors>
    <id>945fdce4-3e99-3b82-0000-000000000000</id>
    <parentGroupId>3608c09a-ead5-3360-0000-000000000000</parentGroupId>
    <position>
        <x>464.0</x>
        <y>208.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>index</key>
                <value>glusterfslogs</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>glusterlogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>ad69be4d-2834-358b-0000-000000000000</id>
    <parentGroupId>3608c09a-ead5-3360-0000-000000000000</parentGroupId>
    <position>
        <x>992.0</x>
        <y>216.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Regular Expression</key>
                <value>
                    <name>Regular Expression</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value>
                    <name>Replacement Value</name>
                </value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>
                    <name>Character Set</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>
                    <name>Maximum Buffer Size</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>
                    <name>Replacement Strategy</name>
                </value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>
                    <name>Evaluation Mode</name>
                </value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>
                    <name>Line-by-Line Evaluation Mode</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Regular Expression</key>
                <value>(host=\S+ tag=\S+:|tag=\S+:)</value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value></value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>1 MB</value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>Regex Replace</value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>Entire text</value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>All</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>ReplaceText</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ReplaceText</type>
</processors>
                            </contents>
                            <name>Glusterfs client log</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>6fa94b8b-fe48-3beb-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-632.0</x>
<y>1480.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>b415a686-7a18-39e8-0000-000000000000</id>
    <parentGroupId>6fa94b8b-fe48-3beb-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6fa94b8b-fe48-3beb-0000-000000000000</groupId>
        <id>49dcc1ca-cb68-3adb-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>6fa94b8b-fe48-3beb-0000-000000000000</groupId>
        <id>c4d075c9-c55a-3d0b-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e9866878-0b1c-34b2-0000-000000000000</id>
    <parentGroupId>6fa94b8b-fe48-3beb-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6fa94b8b-fe48-3beb-0000-000000000000</groupId>
        <id>cb0e5279-f1cb-3969-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6fa94b8b-fe48-3beb-0000-000000000000</groupId>
        <id>49dcc1ca-cb68-3adb-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ff1b1e8a-f70f-36ee-0000-000000000000</id>
    <parentGroupId>6fa94b8b-fe48-3beb-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>6fa94b8b-fe48-3beb-0000-000000000000</groupId>
        <id>48b32d13-fb2e-3f29-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>6fa94b8b-fe48-3beb-0000-000000000000</groupId>
        <id>cb0e5279-f1cb-3969-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>c4d075c9-c55a-3d0b-0000-000000000000</id>
    <parentGroupId>6fa94b8b-fe48-3beb-0000-000000000000</parentGroupId>
    <position>
        <x>-1136.0</x>
        <y>1320.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>from tcp</name>
    <state>DISABLED</state>
    <type>INPUT_PORT</type>
</inputPorts>
<labels>
    <id>4a3a1314-0cdc-3ce1-0000-000000000000</id>
    <parentGroupId>6fa94b8b-fe48-3beb-0000-000000000000</parentGroupId>
    <position>
        <x>-1228.0579316229832</x>
        <y>1241.8060937475875</y>
    </position>
    <height>33.784379959106445</height>
    <label>Чтение логфайлов приложений запущенных на spark
 tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>330.74403381347656</width>
</labels>
<labels>
    <id>db67076c-64df-30c9-0000-000000000000</id>
    <parentGroupId>6fa94b8b-fe48-3beb-0000-000000000000</parentGroupId>
    <position>
        <x>-644.990731915952</x>
        <y>1152.967737729521</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<outputPorts>
    <id>48b32d13-fb2e-3f29-0000-000000000000</id>
    <parentGroupId>6fa94b8b-fe48-3beb-0000-000000000000</parentGroupId>
    <position>
        <x>360.0</x>
        <y>1304.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>dispatcher to nifi server</name>
    <state>DISABLED</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>49dcc1ca-cb68-3adb-0000-000000000000</id>
    <parentGroupId>6fa94b8b-fe48-3beb-0000-000000000000</parentGroupId>
    <position>
        <x>-681.1002900214207</x>
        <y>1283.0008874487594</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>index</key>
                <value>nginxlogs</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>nginxlogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>cb0e5279-f1cb-3969-0000-000000000000</id>
    <parentGroupId>6fa94b8b-fe48-3beb-0000-000000000000</parentGroupId>
    <position>
        <x>-248.0</x>
        <y>1288.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Regular Expression</key>
                <value>
                    <name>Regular Expression</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value>
                    <name>Replacement Value</name>
                </value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>
                    <name>Character Set</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>
                    <name>Maximum Buffer Size</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>
                    <name>Replacement Strategy</name>
                </value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>
                    <name>Evaluation Mode</name>
                </value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>
                    <name>Line-by-Line Evaluation Mode</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Regular Expression</key>
                <value>(host=\S+ tag=\S+:|tag=\S+:)</value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value></value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>1 MB</value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>Regex Replace</value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>Entire text</value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>All</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>ReplaceText</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ReplaceText</type>
</processors>
                            </contents>
                            <name>Nginx logs</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>7b943745-8bc0-3e45-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-1952.0</x>
<y>856.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>842adb63-b791-3b8f-0000-000000000000</id>
    <parentGroupId>7b943745-8bc0-3e45-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>7b943745-8bc0-3e45-0000-000000000000</groupId>
        <id>7b3e32ba-18a1-33dc-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>7b943745-8bc0-3e45-0000-000000000000</groupId>
        <id>e14f046f-5e41-3e9f-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>9dceb638-e750-30ef-0000-000000000000</id>
    <parentGroupId>7b943745-8bc0-3e45-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>7b943745-8bc0-3e45-0000-000000000000</groupId>
        <id>994f1a6c-3cbe-3345-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>7b943745-8bc0-3e45-0000-000000000000</groupId>
        <id>c17a14a3-a232-3b1a-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ede7e134-d660-3242-0000-000000000000</id>
    <parentGroupId>7b943745-8bc0-3e45-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>7b943745-8bc0-3e45-0000-000000000000</groupId>
        <id>c17a14a3-a232-3b1a-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>7b943745-8bc0-3e45-0000-000000000000</groupId>
        <id>7b3e32ba-18a1-33dc-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>e14f046f-5e41-3e9f-0000-000000000000</id>
    <parentGroupId>7b943745-8bc0-3e45-0000-000000000000</parentGroupId>
    <position>
        <x>472.0</x>
        <y>256.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>from tcp</name>
    <state>DISABLED</state>
    <type>INPUT_PORT</type>
</inputPorts>
<labels>
    <id>7898cc22-0293-3aec-0000-000000000000</id>
    <parentGroupId>7b943745-8bc0-3e45-0000-000000000000</parentGroupId>
    <position>
        <x>432.0</x>
        <y>176.0</y>
    </position>
    <height>33.784379959106445</height>
    <label>Чтение логфайлов приложений запущенных на spark
 tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>330.74403381347656</width>
</labels>
<labels>
    <id>e1b3d265-1c14-375d-0000-000000000000</id>
    <parentGroupId>7b943745-8bc0-3e45-0000-000000000000</parentGroupId>
    <position>
        <x>1043.072021484375</x>
        <y>100.40738677978516</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<outputPorts>
    <id>994f1a6c-3cbe-3345-0000-000000000000</id>
    <parentGroupId>7b943745-8bc0-3e45-0000-000000000000</parentGroupId>
    <position>
        <x>1728.0</x>
        <y>256.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>dispatcher to nifi server</name>
    <state>DISABLED</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>7b3e32ba-18a1-33dc-0000-000000000000</id>
    <parentGroupId>7b943745-8bc0-3e45-0000-000000000000</parentGroupId>
    <position>
        <x>832.0</x>
        <y>256.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>host</key>
                <value>
                    <name>host</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>source</key>
                <value>
                    <name>source</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>host</key>
                <value>${hostname()}</value>
            </entry>
            <entry>
                <key>index</key>
                <value>driverlog</value>
            </entry>
            <entry>
                <key>source</key>
                <value>${tailfile.original.path}</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>driverlog</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>c17a14a3-a232-3b1a-0000-000000000000</id>
    <parentGroupId>7b943745-8bc0-3e45-0000-000000000000</parentGroupId>
    <position>
        <x>1264.0</x>
        <y>248.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Regular Expression</key>
                <value>
                    <name>Regular Expression</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value>
                    <name>Replacement Value</name>
                </value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>
                    <name>Character Set</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>
                    <name>Maximum Buffer Size</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>
                    <name>Replacement Strategy</name>
                </value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>
                    <name>Evaluation Mode</name>
                </value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>
                    <name>Line-by-Line Evaluation Mode</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Regular Expression</key>
                <value>(host=\S+ tag=\S+:|tag=\S+:)</value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value></value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>1 MB</value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>Regex Replace</value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>Entire text</value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>All</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>ReplaceText</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ReplaceText</type>
</processors>
                            </contents>
                            <name>SuperDispatcher logs (driver)</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>a5c0e529-5b38-3c3e-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-1952.0</x>
<y>1480.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>059066e1-315b-3ecf-0000-000000000000</id>
    <parentGroupId>a5c0e529-5b38-3c3e-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5c0e529-5b38-3c3e-0000-000000000000</groupId>
        <id>dbc7f95c-ab27-30e9-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>a5c0e529-5b38-3c3e-0000-000000000000</groupId>
        <id>9b370809-4648-3b02-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>596d6752-13c8-3690-0000-000000000000</id>
    <parentGroupId>a5c0e529-5b38-3c3e-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5c0e529-5b38-3c3e-0000-000000000000</groupId>
        <id>439d6f0f-c8cd-3ec6-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5c0e529-5b38-3c3e-0000-000000000000</groupId>
        <id>dbc7f95c-ab27-30e9-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>b0576a05-ce6f-3163-0000-000000000000</id>
    <parentGroupId>a5c0e529-5b38-3c3e-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>a5c0e529-5b38-3c3e-0000-000000000000</groupId>
        <id>4ccdd49f-1d14-3bb5-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>a5c0e529-5b38-3c3e-0000-000000000000</groupId>
        <id>439d6f0f-c8cd-3ec6-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>9b370809-4648-3b02-0000-000000000000</id>
    <parentGroupId>a5c0e529-5b38-3c3e-0000-000000000000</parentGroupId>
    <position>
        <x>232.0</x>
        <y>456.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>from tcp</name>
    <state>DISABLED</state>
    <type>INPUT_PORT</type>
</inputPorts>
<labels>
    <id>a50d8540-dd81-37ab-0000-000000000000</id>
    <parentGroupId>a5c0e529-5b38-3c3e-0000-000000000000</parentGroupId>
    <position>
        <x>432.0</x>
        <y>344.0</y>
    </position>
    <height>33.784379959106445</height>
    <label>Чтение логфайлов приложений запущенных на spark
 tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>330.74403381347656</width>
</labels>
<labels>
    <id>dcaad0dc-558c-3eb9-0000-000000000000</id>
    <parentGroupId>a5c0e529-5b38-3c3e-0000-000000000000</parentGroupId>
    <position>
        <x>1040.0</x>
        <y>256.0</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<outputPorts>
    <id>4ccdd49f-1d14-3bb5-0000-000000000000</id>
    <parentGroupId>a5c0e529-5b38-3c3e-0000-000000000000</parentGroupId>
    <position>
        <x>1648.0</x>
        <y>432.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>dispatcher to nifi server</name>
    <state>DISABLED</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>439d6f0f-c8cd-3ec6-0000-000000000000</id>
    <parentGroupId>a5c0e529-5b38-3c3e-0000-000000000000</parentGroupId>
    <position>
        <x>1152.0</x>
        <y>440.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Regular Expression</key>
                <value>
                    <name>Regular Expression</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value>
                    <name>Replacement Value</name>
                </value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>
                    <name>Character Set</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>
                    <name>Maximum Buffer Size</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>
                    <name>Replacement Strategy</name>
                </value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>
                    <name>Evaluation Mode</name>
                </value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>
                    <name>Line-by-Line Evaluation Mode</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Regular Expression</key>
                <value>(host=\S+ tag=\S+:|tag=\S+:)</value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value></value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>1 MB</value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>Regex Replace</value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>Entire text</value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>All</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>ReplaceText</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ReplaceText</type>
</processors>
<processors>
    <id>dbc7f95c-ab27-30e9-0000-000000000000</id>
    <parentGroupId>a5c0e529-5b38-3c3e-0000-000000000000</parentGroupId>
    <position>
        <x>560.0</x>
        <y>432.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>index</key>
                <value>sparkapplogs</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>sparkapplogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
                            </contents>
                            <name>Spark app logs</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>cad43b6b-ae4f-3940-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-1064.0</x>
<y>1480.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>0d09429a-f3a3-3678-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>eb2b4862-56e4-3782-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>6728197a-e18f-30fc-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>246fcf8a-6f32-33c0-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>46df09b6-dad6-35b0-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>92b29bd7-c00c-30af-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>63848c43-8051-3f70-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>92b29bd7-c00c-30af-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>eb2b4862-56e4-3782-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>8b737d3f-2fde-3b04-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>6728197a-e18f-30fc-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>nifi_user</selectedRelationships>
    <source>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>8cc98280-19c8-3b27-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ad716638-7172-330b-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>8cc98280-19c8-3b27-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>90014dbd-e25f-304c-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ba29c997-b21d-36a6-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>40cb325c-6cd2-39fd-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>nifi_app</selectedRelationships>
    <source>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>8cc98280-19c8-3b27-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e411f363-b11a-3d3b-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>eb2b4862-56e4-3782-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>cad43b6b-ae4f-3940-0000-000000000000</groupId>
        <id>40cb325c-6cd2-39fd-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>90014dbd-e25f-304c-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <position>
        <x>72.0</x>
        <y>280.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>ftom tcp</name>
    <state>DISABLED</state>
    <type>INPUT_PORT</type>
</inputPorts>
<labels>
    <id>26eddbce-2c69-3eda-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <position>
        <x>504.0</x>
        <y>64.0</y>
    </position>
    <height>33.784379959106445</height>
    <label>Чтение логфайлов nifi
 tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>149.59112548828125</width>
</labels>
<labels>
    <id>d9c2ade3-d9d4-322e-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <position>
        <x>1472.0</x>
        <y>104.0</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<outputPorts>
    <id>46df09b6-dad6-35b0-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <position>
        <x>2504.0</x>
        <y>304.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>to nifi server</name>
    <state>DISABLED</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>40cb325c-6cd2-39fd-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <position>
        <x>896.0</x>
        <y>120.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>nifi_applogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute nifi app</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>6728197a-e18f-30fc-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <position>
        <x>896.0</x>
        <y>376.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>nifi_userlogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute nifi user</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>8cc98280-19c8-3b27-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <position>
        <x>408.0</x>
        <y>256.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Routing Strategy</key>
                <value>
                    <name>Routing Strategy</name>
                </value>
            </entry>
            <entry>
                <key>nifi_app</key>
                <value>
                    <name>nifi_app</name>
                </value>
            </entry>
            <entry>
                <key>nifi_user</key>
                <value>
                    <name>nifi_user</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
            </entry>
            <entry>
                <key>nifi_app</key>
                <value>${tag:contains("nifi_app")}</value>
            </entry>
            <entry>
                <key>nifi_user</key>
                <value>${tag:contains("nifi_user")}</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RouteOnAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>nifi_app</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>nifi_user</name>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>unmatched</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
</processors>
<processors>
    <id>92b29bd7-c00c-30af-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <position>
        <x>2000.0</x>
        <y>264.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Regular Expression</key>
                <value>
                    <name>Regular Expression</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value>
                    <name>Replacement Value</name>
                </value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>
                    <name>Character Set</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>
                    <name>Maximum Buffer Size</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>
                    <name>Replacement Strategy</name>
                </value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>
                    <name>Evaluation Mode</name>
                </value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>
                    <name>Line-by-Line Evaluation Mode</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Regular Expression</key>
                <value>(host=\S+ tag=\S+:|tag=\S+:)</value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value></value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>1 MB</value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>Regex Replace</value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>Entire text</value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>All</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>ReplaceText</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ReplaceText</type>
</processors>
<processors>
    <id>eb2b4862-56e4-3782-0000-000000000000</id>
    <parentGroupId>cad43b6b-ae4f-3940-0000-000000000000</parentGroupId>
    <position>
        <x>1416.0</x>
        <y>264.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>index</key>
                <value>nifilogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
                            </contents>
                            <name>Nifi logs</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>e3ce6e47-6c37-3d0a-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-1512.0</x>
<y>1480.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>2d5df1e0-580b-3b39-0000-000000000000</id>
    <parentGroupId>e3ce6e47-6c37-3d0a-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>e3ce6e47-6c37-3d0a-0000-000000000000</groupId>
        <id>6eebbc3d-f66b-358e-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>e3ce6e47-6c37-3d0a-0000-000000000000</groupId>
        <id>637c30b0-900f-3518-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>71b8f8d2-8b44-3092-0000-000000000000</id>
    <parentGroupId>e3ce6e47-6c37-3d0a-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>e3ce6e47-6c37-3d0a-0000-000000000000</groupId>
        <id>e67c3631-2453-3cd1-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>e3ce6e47-6c37-3d0a-0000-000000000000</groupId>
        <id>6eebbc3d-f66b-358e-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e961cf48-c97d-3753-0000-000000000000</id>
    <parentGroupId>e3ce6e47-6c37-3d0a-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>e3ce6e47-6c37-3d0a-0000-000000000000</groupId>
        <id>e8fe5874-fc8c-3349-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>e3ce6e47-6c37-3d0a-0000-000000000000</groupId>
        <id>e67c3631-2453-3cd1-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>637c30b0-900f-3518-0000-000000000000</id>
    <parentGroupId>e3ce6e47-6c37-3d0a-0000-000000000000</parentGroupId>
    <position>
        <x>328.0</x>
        <y>448.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>from tcp</name>
    <state>DISABLED</state>
    <type>INPUT_PORT</type>
</inputPorts>
<labels>
    <id>45c052a7-dab3-3e69-0000-000000000000</id>
    <parentGroupId>e3ce6e47-6c37-3d0a-0000-000000000000</parentGroupId>
    <position>
        <x>1048.0</x>
        <y>280.0</y>
    </position>
    <height>113.0</height>
    <label>Добавление сервисных атрибутов,
для того, чтобы сервер на входе понимал,
откуда пришли данные.
host
index
source
sourcetype</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>257.0</width>
</labels>
<labels>
    <id>58614f38-74a4-35d9-0000-000000000000</id>
    <parentGroupId>e3ce6e47-6c37-3d0a-0000-000000000000</parentGroupId>
    <position>
        <x>632.0</x>
        <y>320.0</y>
    </position>
    <height>33.784379959106445</height>
    <label>Чтение логфайлов Spark
 tail-ом.</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>149.59112548828125</width>
</labels>
<outputPorts>
    <id>e8fe5874-fc8c-3349-0000-000000000000</id>
    <parentGroupId>e3ce6e47-6c37-3d0a-0000-000000000000</parentGroupId>
    <position>
        <x>1592.0</x>
        <y>440.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>to nifi server</name>
    <state>DISABLED</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>6eebbc3d-f66b-358e-0000-000000000000</id>
    <parentGroupId>e3ce6e47-6c37-3d0a-0000-000000000000</parentGroupId>
    <position>
        <x>696.0</x>
        <y>432.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>
                    <name>sourcetype</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>index</key>
                <value>sparkenvlog</value>
            </entry>
            <entry>
                <key>sourcetype</key>
                <value>sparklogs</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>e67c3631-2453-3cd1-0000-000000000000</id>
    <parentGroupId>e3ce6e47-6c37-3d0a-0000-000000000000</parentGroupId>
    <position>
        <x>1136.0</x>
        <y>432.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Regular Expression</key>
                <value>
                    <name>Regular Expression</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value>
                    <name>Replacement Value</name>
                </value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>
                    <name>Character Set</name>
                </value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>
                    <name>Maximum Buffer Size</name>
                </value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>
                    <name>Replacement Strategy</name>
                </value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>
                    <name>Evaluation Mode</name>
                </value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>
                    <name>Line-by-Line Evaluation Mode</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Regular Expression</key>
                <value>(host=\S+ tag=\S+:|tag=\S+:)</value>
            </entry>
            <entry>
                <key>Replacement Value</key>
                <value></value>
            </entry>
            <entry>
                <key>Character Set</key>
                <value>UTF-8</value>
            </entry>
            <entry>
                <key>Maximum Buffer Size</key>
                <value>1 MB</value>
            </entry>
            <entry>
                <key>Replacement Strategy</key>
                <value>Regex Replace</value>
            </entry>
            <entry>
                <key>Evaluation Mode</key>
                <value>Entire text</value>
            </entry>
            <entry>
                <key>Line-by-Line Evaluation Mode</key>
                <value>All</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>ReplaceText</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>DISABLED</state>
    <style/>
    <type>org.apache.nifi.processors.standard.ReplaceText</type>
</processors>
                            </contents>
                            <name>Sparklogs(info about started workers)</name>
                            <variables/>
                        </processGroups>
                        <processors>
                            <id>0bcb524e-4c36-3af7-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-2360.0</x>
<y>1264.0</y>
                            </position>
                            <bundle>
<artifact>nifi-update-attribute-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Delete Attributes Expression</key>
        <value>
            <name>Delete Attributes Expression</name>
        </value>
    </entry>
    <entry>
        <key>Store State</key>
        <value>
            <name>Store State</name>
        </value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
        <value>
            <name>Stateful Variables Initial Value</name>
        </value>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>
            <name>canonical-value-lookup-cache-size</name>
        </value>
    </entry>
    <entry>
        <key>host</key>
        <value>
            <name>host</name>
        </value>
    </entry>
    <entry>
        <key>source</key>
        <value>
            <name>source</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Delete Attributes Expression</key>
    </entry>
    <entry>
        <key>Store State</key>
        <value>Do not store state</value>
    </entry>
    <entry>
        <key>Stateful Variables Initial Value</key>
    </entry>
    <entry>
        <key>canonical-value-lookup-cache-size</key>
        <value>100</value>
    </entry>
    <entry>
        <key>host</key>
        <value>${host}</value>
    </entry>
    <entry>
        <key>source</key>
        <value>${tailfile.original.path}</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>UpdateAttribute</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>DISABLED</state>
                            <style/>
                            <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
                        </processors>
                        <processors>
                            <id>28cbce69-4cd8-37b5-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-1968.0</x>
<y>1264.0</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>gluster</key>
        <value>
            <name>gluster</name>
        </value>
    </entry>
    <entry>
        <key>nginx</key>
        <value>
            <name>nginx</name>
        </value>
    </entry>
    <entry>
        <key>nifi_app</key>
        <value>
            <name>nifi_app</name>
        </value>
    </entry>
    <entry>
        <key>nifi_user</key>
        <value>
            <name>nifi_user</name>
        </value>
    </entry>
    <entry>
        <key>rest</key>
        <value>
            <name>rest</name>
        </value>
    </entry>
    <entry>
        <key>spark-app</key>
        <value>
            <name>spark-app</name>
        </value>
    </entry>
    <entry>
        <key>spark-driver</key>
        <value>
            <name>spark-driver</name>
        </value>
    </entry>
    <entry>
        <key>spark-executors</key>
        <value>
            <name>spark-executors</name>
        </value>
    </entry>
    <entry>
        <key>spark-workers</key>
        <value>
            <name>spark-workers</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>gluster</key>
        <value>${tag:contains("gluster")}</value>
    </entry>
    <entry>
        <key>nginx</key>
        <value>${nginx:contains("nginx")}</value>
    </entry>
    <entry>
        <key>nifi_app</key>
        <value>${tag:contains("nifi_app")}</value>
    </entry>
    <entry>
        <key>nifi_user</key>
        <value>${tag:contains("nifi_user")}</value>
    </entry>
    <entry>
        <key>rest</key>
        <value>${tag:contains("rest")}</value>
    </entry>
    <entry>
        <key>spark-app</key>
        <value>${tag:contains("spark-app")}</value>
    </entry>
    <entry>
        <key>spark-driver</key>
        <value>${tag:in("sprk_driver")}</value>
    </entry>
    <entry>
        <key>spark-executors</key>
        <value>${tag:contains("executors")}</value>
    </entry>
    <entry>
        <key>spark-workers</key>
        <value>${tag:contains("spark")}</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>RouteOnAttribute</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>gluster</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nginx</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nifi_app</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nifi_user</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>rest</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>spark-app</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>spark-driver</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>spark-executors</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>spark-workers</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>unmatched</name>
                            </relationships>
                            <state>DISABLED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>2d41e86a-88bc-31b1-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-2912.0</x>
<y>1392.0</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>
            <name>Maximum Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>
            <name>Maximum Capture Group Length</name>
        </value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>
            <name>Enable Canonical Equivalence</name>
        </value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>
            <name>Enable Case-insensitive Matching</name>
        </value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>
            <name>Permit Whitespace and Comments in Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>
            <name>Enable DOTALL Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>
            <name>Enable Literal Parsing of the Pattern</name>
        </value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>
            <name>Enable Multiline Mode</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>
            <name>Enable Unicode-aware Case Folding</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>
            <name>Enable Unicode Predefined Character Classes</name>
        </value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>
            <name>Enable Unix Lines Mode</name>
        </value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>
            <name>Include Capture Group 0</name>
        </value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>
            <name>extract-text-enable-repeating-capture-group</name>
        </value>
    </entry>
    <entry>
        <key>host</key>
        <value>
            <name>host</name>
        </value>
    </entry>
    <entry>
        <key>tag</key>
        <value>
            <name>tag</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Maximum Buffer Size</key>
        <value>1 MB</value>
    </entry>
    <entry>
        <key>Maximum Capture Group Length</key>
        <value>1024</value>
    </entry>
    <entry>
        <key>Enable Canonical Equivalence</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Case-insensitive Matching</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Permit Whitespace and Comments in Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable DOTALL Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Literal Parsing of the Pattern</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Multiline Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode-aware Case Folding</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unicode Predefined Character Classes</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Enable Unix Lines Mode</key>
        <value>false</value>
    </entry>
    <entry>
        <key>Include Capture Group 0</key>
        <value>true</value>
    </entry>
    <entry>
        <key>extract-text-enable-repeating-capture-group</key>
        <value>false</value>
    </entry>
    <entry>
        <key>host</key>
        <value>host=(.*?) </value>
    </entry>
    <entry>
        <key>tag</key>
        <value>tag=(.*?):</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>ExtractText</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>matched</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
                            </relationships>
                            <state>DISABLED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ExtractText</type>
                        </processors>
                        <processors>
                            <id>a020b4ab-fa63-31eb-0000-000000000000</id>
                            <parentGroupId>9a68ea8f-b174-3af4-0000-000000000000</parentGroupId>
                            <position>
<x>-2912.0</x>
<y>1176.0</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Local Network Interface</key>
        <value>
            <name>Local Network Interface</name>
        </value>
    </entry>
    <entry>
        <key>Port</key>
        <value>
            <name>Port</name>
        </value>
    </entry>
    <entry>
        <key>Receive Buffer Size</key>
        <value>
            <name>Receive Buffer Size</name>
        </value>
    </entry>
    <entry>
        <key>Max Size of Message Queue</key>
        <value>
            <name>Max Size of Message Queue</name>
        </value>
    </entry>
    <entry>
        <key>Max Size of Socket Buffer</key>
        <value>
            <name>Max Size of Socket Buffer</name>
        </value>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>
            <name>Character Set</name>
        </value>
    </entry>
    <entry>
        <key>Max Batch Size</key>
        <value>
            <name>Max Batch Size</name>
        </value>
    </entry>
    <entry>
        <key>Message Delimiter</key>
        <value>
            <name>Message Delimiter</name>
        </value>
    </entry>
    <entry>
        <key>Max Number of TCP Connections</key>
        <value>
            <name>Max Number of TCP Connections</name>
        </value>
    </entry>
    <entry>
        <key>SSL Context Service</key>
        <value>
            <identifiesControllerService>org.apache.nifi.ssl.RestrictedSSLContextService</identifiesControllerService>
            <name>SSL Context Service</name>
        </value>
    </entry>
    <entry>
        <key>Client Auth</key>
        <value>
            <name>Client Auth</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Local Network Interface</key>
    </entry>
    <entry>
        <key>Port</key>
        <value>1027</value>
    </entry>
    <entry>
        <key>Receive Buffer Size</key>
        <value>65507 B</value>
    </entry>
    <entry>
        <key>Max Size of Message Queue</key>
        <value>10000</value>
    </entry>
    <entry>
        <key>Max Size of Socket Buffer</key>
        <value>0.22 MB</value>
    </entry>
    <entry>
        <key>Character Set</key>
        <value>UTF-8</value>
    </entry>
    <entry>
        <key>Max Batch Size</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Message Delimiter</key>
        <value>\n</value>
    </entry>
    <entry>
        <key>Max Number of TCP Connections</key>
        <value>2</value>
    </entry>
    <entry>
        <key>SSL Context Service</key>
    </entry>
    <entry>
        <key>Client Auth</key>
        <value>NONE</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>ListenTCP</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>DISABLED</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.ListenTCP</type>
                        </processors>
                    </contents>
                    <name>Take logs from components(TCP port)</name>
                    <variables/>
                </processGroups>
                <processGroups>
                    <id>b280c965-e6a7-37c1-0000-000000000000</id>
                    <parentGroupId>dacb53d2-18a8-3ff4-0000-000000000000</parentGroupId>
                    <position>
                        <x>888.0</x>
                        <y>672.0</y>
                    </position>
                    <comments></comments>
                    <contents>
                        <connections>
                            <id>057f6793-2266-3604-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>19429685-b13b-335e-0000-000000000000</id>
<type>FUNNEL</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>47e62e19-006a-3497-0000-000000000000</groupId>
<id>729a2dc5-7ee6-3a2c-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0b318378-2194-3b54-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>d831336f-5b74-3024-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>c62da2d2-d816-3ed2-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>0cb4453a-6fea-333c-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>19429685-b13b-335e-0000-000000000000</id>
<type>FUNNEL</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>2f0604fe-bd74-3926-0000-000000000000</groupId>
<id>34a18e16-6491-307f-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>1f9975a8-b966-3f85-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>8cee1e24-3c1f-31ca-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>c62da2d2-d816-3ed2-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>358c48e2-7f26-3e2b-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>3fccca6c-5d4b-3e02-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>d4724be8-56c3-35ee-0000-000000000000</id>
<type>FUNNEL</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>3c096c45-1558-383d-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>47e62e19-006a-3497-0000-000000000000</groupId>
<id>d90316bc-b7ab-3b34-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nginx</selectedRelationships>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>5fec7511-0481-32e1-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>4bdd3f79-ce92-31d5-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>2f0604fe-bd74-3926-0000-000000000000</groupId>
<id>cca8f1e9-8ccd-3e43-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>rest</selectedRelationships>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>5fec7511-0481-32e1-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>607feadf-e697-32af-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>c6945d24-9b3e-3d85-0000-000000000000</groupId>
<id>92581e3c-ab9e-3c3a-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>gluster</selectedRelationships>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>5fec7511-0481-32e1-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>702c342c-3b4a-3cea-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>37c46537-4f02-3e51-0000-000000000000</groupId>
<id>634c0b15-5a05-3fa7-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>nifi</selectedRelationships>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>5fec7511-0481-32e1-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>71c7d8f7-5e29-3fb9-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>6408f991-fcce-3eda-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>3fccca6c-5d4b-3e02-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>73f2efe8-2e25-36c8-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>d7b64c24-b7a7-3de7-0000-000000000000</id>
<type>FUNNEL</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>5d81fba7-b6e8-3a6f-0000-000000000000</groupId>
<id>6770c3db-70bc-3634-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>854f8b71-a37d-32bf-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>5fec7511-0481-32e1-0000-000000000000</id>
<type>PROCESSOR</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>splits</selectedRelationships>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>d831336f-5b74-3024-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>97c9fa25-e47b-3903-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>-1784.0</x>
<y>352.0</y>
                            </bends>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>d7b64c24-b7a7-3de7-0000-000000000000</id>
<type>FUNNEL</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>0</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>c6945d24-9b3e-3d85-0000-000000000000</groupId>
<id>ab60d768-edb3-3bd2-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>9dd7f8c6-80bc-352e-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>-1232.0</x>
<y>376.0</y>
                            </bends>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>d4724be8-56c3-35ee-0000-000000000000</id>
<type>FUNNEL</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>d7b64c24-b7a7-3de7-0000-000000000000</id>
<type>FUNNEL</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a3d15c9e-ac7c-3035-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>5d81fba7-b6e8-3a6f-0000-000000000000</groupId>
<id>f3df3149-cc96-34fd-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>unmatched</selectedRelationships>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>5fec7511-0481-32e1-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>a95e3b44-00af-38e4-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
<id>df207452-1936-348f-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>success</selectedRelationships>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>6408f991-fcce-3eda-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>b17241c0-798b-3dac-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>d7b64c24-b7a7-3de7-0000-000000000000</id>
<type>FUNNEL</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>b450b90b-f5b7-3e86-0000-000000000000</groupId>
<id>3efe5f08-e6c5-3734-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>c912815a-0666-3a5f-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b450b90b-f5b7-3e86-0000-000000000000</groupId>
<id>8426872c-e5ca-31a2-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>spark-driver</selectedRelationships>
                            <selectedRelationships>spark-executors</selectedRelationships>
                            <selectedRelationships>spark-workers</selectedRelationships>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>5fec7511-0481-32e1-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>cb7590b0-fb30-300e-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>19429685-b13b-335e-0000-000000000000</id>
<type>FUNNEL</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>37c46537-4f02-3e51-0000-000000000000</groupId>
<id>748eca92-4af6-320a-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>d5448980-cd5c-3329-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>17e6fca7-4f27-36f0-0000-000000000000</groupId>
<id>c92b3d5f-92b3-3e4d-0000-000000000000</id>
<type>INPUT_PORT</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <selectedRelationships>spark-app</selectedRelationships>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>5fec7511-0481-32e1-0000-000000000000</id>
<type>PROCESSOR</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>e405dec5-317d-302f-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>d7b64c24-b7a7-3de7-0000-000000000000</id>
<type>FUNNEL</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>17e6fca7-4f27-36f0-0000-000000000000</groupId>
<id>18929975-115f-3a83-0000-000000000000</id>
<type>OUTPUT_PORT</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <connections>
                            <id>f0febe08-0a94-333c-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
                            <backPressureObjectThreshold>10000</backPressureObjectThreshold>
                            <bends>
<x>-1216.0</x>
<y>904.0</y>
                            </bends>
                            <destination>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>d4724be8-56c3-35ee-0000-000000000000</id>
<type>FUNNEL</type>
                            </destination>
                            <flowFileExpiration>0 sec</flowFileExpiration>
                            <labelIndex>1</labelIndex>
                            <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
                            <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
                            <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
                            <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
                            <name></name>
                            <source>
<groupId>b280c965-e6a7-37c1-0000-000000000000</groupId>
<id>19429685-b13b-335e-0000-000000000000</id>
<type>FUNNEL</type>
                            </source>
                            <zIndex>0</zIndex>
                        </connections>
                        <controllerServices>
                            <id>13c74673-b3af-306b-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <bundle>
<artifact>nifi-record-serialization-services-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <comments></comments>
                            <descriptors>
<entry>
    <key>schema-access-strategy</key>
    <value>
        <name>schema-access-strategy</name>
    </value>
</entry>
<entry>
    <key>schema-registry</key>
    <value>
        <identifiesControllerService>org.apache.nifi.schemaregistry.services.SchemaRegistry</identifiesControllerService>
        <name>schema-registry</name>
    </value>
</entry>
<entry>
    <key>schema-name</key>
    <value>
        <name>schema-name</name>
    </value>
</entry>
<entry>
    <key>schema-version</key>
    <value>
        <name>schema-version</name>
    </value>
</entry>
<entry>
    <key>schema-branch</key>
    <value>
        <name>schema-branch</name>
    </value>
</entry>
<entry>
    <key>schema-text</key>
    <value>
        <name>schema-text</name>
    </value>
</entry>
<entry>
    <key>Grok Pattern File</key>
    <value>
        <name>Grok Pattern File</name>
    </value>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>
        <name>Grok Expression</name>
    </value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>
        <name>no-match-behavior</name>
    </value>
</entry>
                            </descriptors>
                            <name>GrokReader for sparklogs</name>
                            <persistsState>false</persistsState>
                            <properties>
<entry>
    <key>schema-access-strategy</key>
    <value>string-fields-from-grok-expression</value>
</entry>
<entry>
    <key>schema-registry</key>
</entry>
<entry>
    <key>schema-name</key>
    <value>${schema.name}</value>
</entry>
<entry>
    <key>schema-version</key>
</entry>
<entry>
    <key>schema-branch</key>
</entry>
<entry>
    <key>schema-text</key>
    <value>${avro.schema}</value>
</entry>
<entry>
    <key>Grok Pattern File</key>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>%{DATE_US_YEAR_MONTH_DAY:date} %{TIME:time} %{LOGLEVEL:level} %{GREEDYDATA:message}</value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>append-to-previous-message</value>
</entry>
                            </properties>
                            <state>ENABLED</state>
                            <type>org.apache.nifi.grok.GrokReader</type>
                        </controllerServices>
                        <controllerServices>
                            <id>1c60611b-da96-3f9e-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <bundle>
<artifact>nifi-record-serialization-services-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <comments></comments>
                            <descriptors>
<entry>
    <key>schema-access-strategy</key>
    <value>
        <name>schema-access-strategy</name>
    </value>
</entry>
<entry>
    <key>schema-registry</key>
    <value>
        <identifiesControllerService>org.apache.nifi.schemaregistry.services.SchemaRegistry</identifiesControllerService>
        <name>schema-registry</name>
    </value>
</entry>
<entry>
    <key>schema-name</key>
    <value>
        <name>schema-name</name>
    </value>
</entry>
<entry>
    <key>schema-version</key>
    <value>
        <name>schema-version</name>
    </value>
</entry>
<entry>
    <key>schema-branch</key>
    <value>
        <name>schema-branch</name>
    </value>
</entry>
<entry>
    <key>schema-text</key>
    <value>
        <name>schema-text</name>
    </value>
</entry>
<entry>
    <key>Grok Pattern File</key>
    <value>
        <name>Grok Pattern File</name>
    </value>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>
        <name>Grok Expression</name>
    </value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>
        <name>no-match-behavior</name>
    </value>
</entry>
                            </descriptors>
                            <name>GrokReader for ot.rest</name>
                            <persistsState>false</persistsState>
                            <properties>
<entry>
    <key>schema-access-strategy</key>
    <value>string-fields-from-grok-expression</value>
</entry>
<entry>
    <key>schema-registry</key>
</entry>
<entry>
    <key>schema-name</key>
    <value>${schema.name}</value>
</entry>
<entry>
    <key>schema-version</key>
</entry>
<entry>
    <key>schema-branch</key>
</entry>
<entry>
    <key>schema-text</key>
    <value>${avro.schema}</value>
</entry>
<entry>
    <key>Grok Pattern File</key>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>%{TIMESTAMP_ISO8601:timestamp} %{LOGLEVEL:level} %{GREEDYDATA:message}</value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>append-to-previous-message</value>
</entry>
                            </properties>
                            <state>ENABLED</state>
                            <type>org.apache.nifi.grok.GrokReader</type>
                        </controllerServices>
                        <controllerServices>
                            <id>329dc473-7783-3999-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <bundle>
<artifact>nifi-record-serialization-services-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <comments></comments>
                            <descriptors>
<entry>
    <key>max-cache-size</key>
    <value>
        <name>max-cache-size</name>
    </value>
</entry>
                            </descriptors>
                            <name>VolatileSchemaCache</name>
                            <persistsState>false</persistsState>
                            <properties>
<entry>
    <key>max-cache-size</key>
    <value>10000</value>
</entry>
                            </properties>
                            <state>ENABLED</state>
                            <type>org.apache.nifi.schema.inference.VolatileSchemaCache</type>
                        </controllerServices>
                        <controllerServices>
                            <id>3d129301-7d7f-3d51-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <bundle>
<artifact>nifi-record-serialization-services-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <comments></comments>
                            <descriptors>
<entry>
    <key>schema-access-strategy</key>
    <value>
        <name>schema-access-strategy</name>
    </value>
</entry>
<entry>
    <key>schema-registry</key>
    <value>
        <identifiesControllerService>org.apache.nifi.schemaregistry.services.SchemaRegistry</identifiesControllerService>
        <name>schema-registry</name>
    </value>
</entry>
<entry>
    <key>schema-name</key>
    <value>
        <name>schema-name</name>
    </value>
</entry>
<entry>
    <key>schema-version</key>
    <value>
        <name>schema-version</name>
    </value>
</entry>
<entry>
    <key>schema-branch</key>
    <value>
        <name>schema-branch</name>
    </value>
</entry>
<entry>
    <key>schema-text</key>
    <value>
        <name>schema-text</name>
    </value>
</entry>
<entry>
    <key>Grok Pattern File</key>
    <value>
        <name>Grok Pattern File</name>
    </value>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>
        <name>Grok Expression</name>
    </value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>
        <name>no-match-behavior</name>
    </value>
</entry>
                            </descriptors>
                            <name>GrokReader for dispatcher</name>
                            <persistsState>false</persistsState>
                            <properties>
<entry>
    <key>schema-access-strategy</key>
    <value>string-fields-from-grok-expression</value>
</entry>
<entry>
    <key>schema-registry</key>
</entry>
<entry>
    <key>schema-name</key>
    <value>${schema.name}</value>
</entry>
<entry>
    <key>schema-version</key>
</entry>
<entry>
    <key>schema-branch</key>
</entry>
<entry>
    <key>schema-text</key>
    <value>${avro.schema}</value>
</entry>
<entry>
    <key>Grok Pattern File</key>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>\{\"%{DATA:event}\"\:"%{DATA:eventname}\"%{GREEDYDATA:message}</value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>append-to-previous-message</value>
</entry>
                            </properties>
                            <state>ENABLED</state>
                            <type>org.apache.nifi.grok.GrokReader</type>
                        </controllerServices>
                        <controllerServices>
                            <id>41ab0d79-4a85-394a-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <bundle>
<artifact>nifi-record-serialization-services-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <comments></comments>
                            <descriptors>
<entry>
    <key>schema-access-strategy</key>
    <value>
        <name>schema-access-strategy</name>
    </value>
</entry>
<entry>
    <key>schema-registry</key>
    <value>
        <identifiesControllerService>org.apache.nifi.schemaregistry.services.SchemaRegistry</identifiesControllerService>
        <name>schema-registry</name>
    </value>
</entry>
<entry>
    <key>schema-name</key>
    <value>
        <name>schema-name</name>
    </value>
</entry>
<entry>
    <key>schema-version</key>
    <value>
        <name>schema-version</name>
    </value>
</entry>
<entry>
    <key>schema-branch</key>
    <value>
        <name>schema-branch</name>
    </value>
</entry>
<entry>
    <key>schema-text</key>
    <value>
        <name>schema-text</name>
    </value>
</entry>
<entry>
    <key>Grok Pattern File</key>
    <value>
        <name>Grok Pattern File</name>
    </value>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>
        <name>Grok Expression</name>
    </value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>
        <name>no-match-behavior</name>
    </value>
</entry>
                            </descriptors>
                            <name>GrokReader for nifi</name>
                            <persistsState>false</persistsState>
                            <properties>
<entry>
    <key>schema-access-strategy</key>
    <value>string-fields-from-grok-expression</value>
</entry>
<entry>
    <key>schema-registry</key>
</entry>
<entry>
    <key>schema-name</key>
    <value>${schema.name}</value>
</entry>
<entry>
    <key>schema-version</key>
</entry>
<entry>
    <key>schema-branch</key>
</entry>
<entry>
    <key>schema-text</key>
    <value>${avro.schema}</value>
</entry>
<entry>
    <key>Grok Pattern File</key>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>%{TIMESTAMP_ISO8601:timestamp} %{LOGLEVEL:level} \[%{DATA:class}\] %{GREEDYDATA:message}</value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>append-to-previous-message</value>
</entry>
                            </properties>
                            <state>ENABLED</state>
                            <type>org.apache.nifi.grok.GrokReader</type>
                        </controllerServices>
                        <controllerServices>
                            <id>577abdc6-cd26-3a45-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <bundle>
<artifact>nifi-record-serialization-services-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <comments></comments>
                            <descriptors>
<entry>
    <key>schema-access-strategy</key>
    <value>
        <name>schema-access-strategy</name>
    </value>
</entry>
<entry>
    <key>schema-registry</key>
    <value>
        <identifiesControllerService>org.apache.nifi.schemaregistry.services.SchemaRegistry</identifiesControllerService>
        <name>schema-registry</name>
    </value>
</entry>
<entry>
    <key>schema-name</key>
    <value>
        <name>schema-name</name>
    </value>
</entry>
<entry>
    <key>schema-version</key>
    <value>
        <name>schema-version</name>
    </value>
</entry>
<entry>
    <key>schema-branch</key>
    <value>
        <name>schema-branch</name>
    </value>
</entry>
<entry>
    <key>schema-text</key>
    <value>
        <name>schema-text</name>
    </value>
</entry>
<entry>
    <key>Grok Pattern File</key>
    <value>
        <name>Grok Pattern File</name>
    </value>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>
        <name>Grok Expression</name>
    </value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>
        <name>no-match-behavior</name>
    </value>
</entry>
                            </descriptors>
                            <name>GrokReader for gluster </name>
                            <persistsState>false</persistsState>
                            <properties>
<entry>
    <key>schema-access-strategy</key>
    <value>string-fields-from-grok-expression</value>
</entry>
<entry>
    <key>schema-registry</key>
</entry>
<entry>
    <key>schema-name</key>
    <value>${schema.name}</value>
</entry>
<entry>
    <key>schema-version</key>
</entry>
<entry>
    <key>schema-branch</key>
</entry>
<entry>
    <key>schema-text</key>
    <value>${avro.schema}</value>
</entry>
<entry>
    <key>Grok Pattern File</key>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>%{DATA:data}\[%{TIMESTAMP_ISO8601:timestamp}\] %{DATA:level} \[MSGID: %{DATA:msgid}\] \[%{DATA:file_info}\] %{DATA:domain}: %{GREEDYDATA:message}</value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>append-to-previous-message</value>
</entry>
                            </properties>
                            <state>ENABLED</state>
                            <type>org.apache.nifi.grok.GrokReader</type>
                        </controllerServices>
                        <controllerServices>
                            <id>5ccf51c0-bac0-3313-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <bundle>
<artifact>nifi-record-serialization-services-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <comments></comments>
                            <descriptors>
<entry>
    <key>schema-access-strategy</key>
    <value>
        <name>schema-access-strategy</name>
    </value>
</entry>
<entry>
    <key>schema-registry</key>
    <value>
        <identifiesControllerService>org.apache.nifi.schemaregistry.services.SchemaRegistry</identifiesControllerService>
        <name>schema-registry</name>
    </value>
</entry>
<entry>
    <key>schema-name</key>
    <value>
        <name>schema-name</name>
    </value>
</entry>
<entry>
    <key>schema-version</key>
    <value>
        <name>schema-version</name>
    </value>
</entry>
<entry>
    <key>schema-branch</key>
    <value>
        <name>schema-branch</name>
    </value>
</entry>
<entry>
    <key>schema-text</key>
    <value>
        <name>schema-text</name>
    </value>
</entry>
<entry>
    <key>schema-inference-cache</key>
    <value>
        <identifiesControllerService>org.apache.nifi.serialization.RecordSchemaCacheService</identifiesControllerService>
        <name>schema-inference-cache</name>
    </value>
</entry>
<entry>
    <key>Date Format</key>
    <value>
        <name>Date Format</name>
    </value>
</entry>
<entry>
    <key>Time Format</key>
    <value>
        <name>Time Format</name>
    </value>
</entry>
<entry>
    <key>Timestamp Format</key>
    <value>
        <name>Timestamp Format</name>
    </value>
</entry>
                            </descriptors>
                            <name>JsonTreeReader</name>
                            <persistsState>false</persistsState>
                            <properties>
<entry>
    <key>schema-access-strategy</key>
    <value>infer-schema</value>
</entry>
<entry>
    <key>schema-registry</key>
</entry>
<entry>
    <key>schema-name</key>
    <value>${schema.name}</value>
</entry>
<entry>
    <key>schema-version</key>
</entry>
<entry>
    <key>schema-branch</key>
</entry>
<entry>
    <key>schema-text</key>
    <value>${avro.schema}</value>
</entry>
<entry>
    <key>schema-inference-cache</key>
    <value>329dc473-7783-3999-0000-000000000000</value>
</entry>
<entry>
    <key>Date Format</key>
</entry>
<entry>
    <key>Time Format</key>
</entry>
<entry>
    <key>Timestamp Format</key>
</entry>
                            </properties>
                            <state>ENABLED</state>
                            <type>org.apache.nifi.json.JsonTreeReader</type>
                        </controllerServices>
                        <controllerServices>
                            <id>63896a5c-0be4-3dad-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <bundle>
<artifact>nifi-record-serialization-services-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <comments></comments>
                            <descriptors>
<entry>
    <key>Schema Write Strategy</key>
    <value>
        <name>Schema Write Strategy</name>
    </value>
</entry>
<entry>
    <key>schema-cache</key>
    <value>
        <identifiesControllerService>org.apache.nifi.serialization.RecordSchemaCacheService</identifiesControllerService>
        <name>schema-cache</name>
    </value>
</entry>
<entry>
    <key>schema-access-strategy</key>
    <value>
        <name>schema-access-strategy</name>
    </value>
</entry>
<entry>
    <key>schema-registry</key>
    <value>
        <identifiesControllerService>org.apache.nifi.schemaregistry.services.SchemaRegistry</identifiesControllerService>
        <name>schema-registry</name>
    </value>
</entry>
<entry>
    <key>schema-name</key>
    <value>
        <name>schema-name</name>
    </value>
</entry>
<entry>
    <key>schema-version</key>
    <value>
        <name>schema-version</name>
    </value>
</entry>
<entry>
    <key>schema-branch</key>
    <value>
        <name>schema-branch</name>
    </value>
</entry>
<entry>
    <key>schema-text</key>
    <value>
        <name>schema-text</name>
    </value>
</entry>
<entry>
    <key>Date Format</key>
    <value>
        <name>Date Format</name>
    </value>
</entry>
<entry>
    <key>Time Format</key>
    <value>
        <name>Time Format</name>
    </value>
</entry>
<entry>
    <key>Timestamp Format</key>
    <value>
        <name>Timestamp Format</name>
    </value>
</entry>
<entry>
    <key>Pretty Print JSON</key>
    <value>
        <name>Pretty Print JSON</name>
    </value>
</entry>
<entry>
    <key>suppress-nulls</key>
    <value>
        <name>suppress-nulls</name>
    </value>
</entry>
<entry>
    <key>output-grouping</key>
    <value>
        <name>output-grouping</name>
    </value>
</entry>
<entry>
    <key>compression-format</key>
    <value>
        <name>compression-format</name>
    </value>
</entry>
<entry>
    <key>compression-level</key>
    <value>
        <name>compression-level</name>
    </value>
</entry>
                            </descriptors>
                            <name>JsonRecordSetWriter</name>
                            <persistsState>false</persistsState>
                            <properties>
<entry>
    <key>Schema Write Strategy</key>
    <value>no-schema</value>
</entry>
<entry>
    <key>schema-cache</key>
    <value>329dc473-7783-3999-0000-000000000000</value>
</entry>
<entry>
    <key>schema-access-strategy</key>
    <value>inherit-record-schema</value>
</entry>
<entry>
    <key>schema-registry</key>
</entry>
<entry>
    <key>schema-name</key>
    <value>${schema.name}</value>
</entry>
<entry>
    <key>schema-version</key>
</entry>
<entry>
    <key>schema-branch</key>
</entry>
<entry>
    <key>schema-text</key>
    <value>${avro.schema}</value>
</entry>
<entry>
    <key>Date Format</key>
</entry>
<entry>
    <key>Time Format</key>
</entry>
<entry>
    <key>Timestamp Format</key>
</entry>
<entry>
    <key>Pretty Print JSON</key>
    <value>true</value>
</entry>
<entry>
    <key>suppress-nulls</key>
    <value>always-suppress</value>
</entry>
<entry>
    <key>output-grouping</key>
    <value>output-array</value>
</entry>
<entry>
    <key>compression-format</key>
    <value>none</value>
</entry>
<entry>
    <key>compression-level</key>
    <value>1</value>
</entry>
                            </properties>
                            <state>ENABLED</state>
                            <type>org.apache.nifi.json.JsonRecordSetWriter</type>
                        </controllerServices>
                        <controllerServices>
                            <id>7516d757-46cf-30d4-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <bundle>
<artifact>nifi-record-serialization-services-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <comments></comments>
                            <descriptors>
<entry>
    <key>schema-access-strategy</key>
    <value>
        <name>schema-access-strategy</name>
    </value>
</entry>
<entry>
    <key>schema-registry</key>
    <value>
        <identifiesControllerService>org.apache.nifi.schemaregistry.services.SchemaRegistry</identifiesControllerService>
        <name>schema-registry</name>
    </value>
</entry>
<entry>
    <key>schema-name</key>
    <value>
        <name>schema-name</name>
    </value>
</entry>
<entry>
    <key>schema-version</key>
    <value>
        <name>schema-version</name>
    </value>
</entry>
<entry>
    <key>schema-branch</key>
    <value>
        <name>schema-branch</name>
    </value>
</entry>
<entry>
    <key>schema-text</key>
    <value>
        <name>schema-text</name>
    </value>
</entry>
<entry>
    <key>Grok Pattern File</key>
    <value>
        <name>Grok Pattern File</name>
    </value>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>
        <name>Grok Expression</name>
    </value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>
        <name>no-match-behavior</name>
    </value>
</entry>
                            </descriptors>
                            <name>GrokReader for nginx error log</name>
                            <persistsState>false</persistsState>
                            <properties>
<entry>
    <key>schema-access-strategy</key>
    <value>string-fields-from-grok-expression</value>
</entry>
<entry>
    <key>schema-registry</key>
</entry>
<entry>
    <key>schema-name</key>
    <value>${schema.name}</value>
</entry>
<entry>
    <key>schema-version</key>
</entry>
<entry>
    <key>schema-branch</key>
</entry>
<entry>
    <key>schema-text</key>
    <value>${avro.schema}</value>
</entry>
<entry>
    <key>Grok Pattern File</key>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>%{DATA:timestamp} \[%{LOGLEVEL:level}\] %{GREEDYDATA:message}</value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>append-to-previous-message</value>
</entry>
                            </properties>
                            <state>ENABLED</state>
                            <type>org.apache.nifi.grok.GrokReader</type>
                        </controllerServices>
                        <controllerServices>
                            <id>fa186de5-3d89-3a01-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <bundle>
<artifact>nifi-record-serialization-services-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <comments></comments>
                            <descriptors>
<entry>
    <key>Schema Write Strategy</key>
    <value>
        <name>Schema Write Strategy</name>
    </value>
</entry>
<entry>
    <key>schema-cache</key>
    <value>
        <identifiesControllerService>org.apache.nifi.serialization.RecordSchemaCacheService</identifiesControllerService>
        <name>schema-cache</name>
    </value>
</entry>
<entry>
    <key>schema-access-strategy</key>
    <value>
        <name>schema-access-strategy</name>
    </value>
</entry>
<entry>
    <key>schema-registry</key>
    <value>
        <identifiesControllerService>org.apache.nifi.schemaregistry.services.SchemaRegistry</identifiesControllerService>
        <name>schema-registry</name>
    </value>
</entry>
<entry>
    <key>schema-name</key>
    <value>
        <name>schema-name</name>
    </value>
</entry>
<entry>
    <key>schema-version</key>
    <value>
        <name>schema-version</name>
    </value>
</entry>
<entry>
    <key>schema-branch</key>
    <value>
        <name>schema-branch</name>
    </value>
</entry>
<entry>
    <key>schema-text</key>
    <value>
        <name>schema-text</name>
    </value>
</entry>
<entry>
    <key>Date Format</key>
    <value>
        <name>Date Format</name>
    </value>
</entry>
<entry>
    <key>Time Format</key>
    <value>
        <name>Time Format</name>
    </value>
</entry>
<entry>
    <key>Timestamp Format</key>
    <value>
        <name>Timestamp Format</name>
    </value>
</entry>
<entry>
    <key>Pretty Print JSON</key>
    <value>
        <name>Pretty Print JSON</name>
    </value>
</entry>
<entry>
    <key>suppress-nulls</key>
    <value>
        <name>suppress-nulls</name>
    </value>
</entry>
<entry>
    <key>output-grouping</key>
    <value>
        <name>output-grouping</name>
    </value>
</entry>
<entry>
    <key>compression-format</key>
    <value>
        <name>compression-format</name>
    </value>
</entry>
<entry>
    <key>compression-level</key>
    <value>
        <name>compression-level</name>
    </value>
</entry>
                            </descriptors>
                            <name>JsonRecordSetWriter for dispatcher logs</name>
                            <persistsState>false</persistsState>
                            <properties>
<entry>
    <key>Schema Write Strategy</key>
    <value>no-schema</value>
</entry>
<entry>
    <key>schema-cache</key>
</entry>
<entry>
    <key>schema-access-strategy</key>
    <value>inherit-record-schema</value>
</entry>
<entry>
    <key>schema-registry</key>
</entry>
<entry>
    <key>schema-name</key>
    <value>${schema.name}</value>
</entry>
<entry>
    <key>schema-version</key>
</entry>
<entry>
    <key>schema-branch</key>
</entry>
<entry>
    <key>schema-text</key>
    <value>${avro.schema}</value>
</entry>
<entry>
    <key>Date Format</key>
</entry>
<entry>
    <key>Time Format</key>
</entry>
<entry>
    <key>Timestamp Format</key>
</entry>
<entry>
    <key>Pretty Print JSON</key>
    <value>true</value>
</entry>
<entry>
    <key>suppress-nulls</key>
    <value>suppress-missing</value>
</entry>
<entry>
    <key>output-grouping</key>
    <value>output-array</value>
</entry>
<entry>
    <key>compression-format</key>
    <value>none</value>
</entry>
<entry>
    <key>compression-level</key>
    <value>1</value>
</entry>
                            </properties>
                            <state>ENABLED</state>
                            <type>org.apache.nifi.json.JsonRecordSetWriter</type>
                        </controllerServices>
                        <controllerServices>
                            <id>fe63848b-28d2-3dc2-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <bundle>
<artifact>nifi-record-serialization-services-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <comments></comments>
                            <descriptors>
<entry>
    <key>schema-access-strategy</key>
    <value>
        <name>schema-access-strategy</name>
    </value>
</entry>
<entry>
    <key>schema-registry</key>
    <value>
        <identifiesControllerService>org.apache.nifi.schemaregistry.services.SchemaRegistry</identifiesControllerService>
        <name>schema-registry</name>
    </value>
</entry>
<entry>
    <key>schema-name</key>
    <value>
        <name>schema-name</name>
    </value>
</entry>
<entry>
    <key>schema-version</key>
    <value>
        <name>schema-version</name>
    </value>
</entry>
<entry>
    <key>schema-branch</key>
    <value>
        <name>schema-branch</name>
    </value>
</entry>
<entry>
    <key>schema-text</key>
    <value>
        <name>schema-text</name>
    </value>
</entry>
<entry>
    <key>Grok Pattern File</key>
    <value>
        <name>Grok Pattern File</name>
    </value>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>
        <name>Grok Expression</name>
    </value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>
        <name>no-match-behavior</name>
    </value>
</entry>
                            </descriptors>
                            <name>GrokReader for nginx access log</name>
                            <persistsState>false</persistsState>
                            <properties>
<entry>
    <key>schema-access-strategy</key>
    <value>string-fields-from-grok-expression</value>
</entry>
<entry>
    <key>schema-registry</key>
</entry>
<entry>
    <key>schema-name</key>
    <value>${schema.name}</value>
</entry>
<entry>
    <key>schema-version</key>
</entry>
<entry>
    <key>schema-branch</key>
</entry>
<entry>
    <key>schema-text</key>
    <value>${avro.schema}</value>
</entry>
<entry>
    <key>Grok Pattern File</key>
</entry>
<entry>
    <key>Grok Expression</key>
    <value>%{IPORHOST:clientip} - - \[%{DATA:timestamp}\] \"%{DATA:request}\" %{DATA:status} %{DATA:body_bytes} "%{DATA:http_referer}" "%{DATA:http_user_agent}" "%{DATA:http_x_forwarded_for}" %{DATA:request_time} %{DATA:upstream_response_time}</value>
</entry>
<entry>
    <key>no-match-behavior</key>
    <value>append-to-previous-message</value>
</entry>
                            </properties>
                            <state>ENABLED</state>
                            <type>org.apache.nifi.grok.GrokReader</type>
                        </controllerServices>
                        <funnels>
                            <id>19429685-b13b-335e-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-2096.0</x>
<y>1192.0</y>
                            </position>
                        </funnels>
                        <funnels>
                            <id>d4724be8-56c3-35ee-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-1240.0</x>
<y>664.0</y>
                            </position>
                        </funnels>
                        <funnels>
                            <id>d7b64c24-b7a7-3de7-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-2120.0</x>
<y>168.0</y>
                            </position>
                        </funnels>
                        <inputPorts>
                            <id>c62da2d2-d816-3ed2-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-3232.0</x>
<y>1080.0</y>
                            </position>
                            <comments></comments>
                            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
                            <name>logs_from_otp_components</name>
                            <state>RUNNING</state>
                            <type>INPUT_PORT</type>
                        </inputPorts>
                        <labels>
                            <id>00f1fcae-3483-3b1d-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-3824.0</x>
<y>936.0</y>
                            </position>
                            <height>48.0</height>
                            <label>Логирование информации о размере поступающих файлов</label>
                            <style>
<entry>
    <key>background-color</key>
    <value>#2db586</value>
</entry>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>360.0</width>
                        </labels>
                        <labels>
                            <id>0bd77dc5-169a-3b46-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-96.0</x>
<y>512.0</y>
                            </position>
                            <height>128.0</height>
                            <label>На вход блока должны попадать flowfiles со следующими параметрами.
Mandatory Attributes
index

Mandatory Record fields
_raw
_time  (12-тизначный формат)

Также не стоит забывать про Variable
_bucket_period </label>
                            <style>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>432.0</width>
                        </labels>
                        <labels>
                            <id>20b8ecac-ebf2-3c97-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-2304.0</x>
<y>48.0</y>
                            </position>
                            <height>88.0</height>
                            <label>Для всех логов обработка состоит из нескольких этапов:

1) прочитать каждую строчку, применяя нужный паттерн для парсинга;

2) привести время(если есть) в unix подобное;

3) удалить ненужные поля из схемы.</label>
                            <style>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>456.0</width>
                        </labels>
                        <labels>
                            <id>2a12654c-f341-340a-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-984.0</x>
<y>1040.0</y>
                            </position>
                            <height>64.0</height>
                            <label>Удаляем не нужные поля общие для всех файлов (timestamp,data)
приводим время long формату</label>
                            <style>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>400.0</width>
                        </labels>
                        <labels>
                            <id>f6fdc7b8-a256-3ed3-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-944.0</x>
<y>560.0</y>
                            </position>
                            <height>48.0</height>
                            <label>Добавляем _indextime (из now())
</label>
                            <style>
<entry>
    <key>font-size</key>
    <value>12px</value>
</entry>
                            </style>
                            <width>232.0</width>
                        </labels>
                        <processGroups>
                            <id>17e6fca7-4f27-36f0-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-2312.0</x>
<y>312.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>2da3f9c9-fc49-33f0-0000-000000000000</id>
    <parentGroupId>17e6fca7-4f27-36f0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>17e6fca7-4f27-36f0-0000-000000000000</groupId>
        <id>e6e4accf-2449-3b24-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>17e6fca7-4f27-36f0-0000-000000000000</groupId>
        <id>03936f4d-a6fc-3070-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>540812b3-10f9-34e4-0000-000000000000</id>
    <parentGroupId>17e6fca7-4f27-36f0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>17e6fca7-4f27-36f0-0000-000000000000</groupId>
        <id>18929975-115f-3a83-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>17e6fca7-4f27-36f0-0000-000000000000</groupId>
        <id>16d9e4a6-fca6-3db6-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>dc1be310-c7b9-3bdd-0000-000000000000</id>
    <parentGroupId>17e6fca7-4f27-36f0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>17e6fca7-4f27-36f0-0000-000000000000</groupId>
        <id>16d9e4a6-fca6-3db6-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>17e6fca7-4f27-36f0-0000-000000000000</groupId>
        <id>e6e4accf-2449-3b24-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>fce0548f-70a5-31d8-0000-000000000000</id>
    <parentGroupId>17e6fca7-4f27-36f0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>17e6fca7-4f27-36f0-0000-000000000000</groupId>
        <id>03936f4d-a6fc-3070-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>17e6fca7-4f27-36f0-0000-000000000000</groupId>
        <id>c92b3d5f-92b3-3e4d-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>c92b3d5f-92b3-3e4d-0000-000000000000</id>
    <parentGroupId>17e6fca7-4f27-36f0-0000-000000000000</parentGroupId>
    <position>
        <x>-2264.0</x>
        <y>384.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>input spark logs</name>
    <state>RUNNING</state>
    <type>INPUT_PORT</type>
</inputPorts>
<outputPorts>
    <id>18929975-115f-3a83-0000-000000000000</id>
    <parentGroupId>17e6fca7-4f27-36f0-0000-000000000000</parentGroupId>
    <position>
        <x>-760.0</x>
        <y>352.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>processed spark logs</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>03936f4d-a6fc-3070-0000-000000000000</id>
    <parentGroupId>17e6fca7-4f27-36f0-0000-000000000000</parentGroupId>
    <position>
        <x>-1952.0</x>
        <y>480.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>
                    <name>/_raw</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>3d129301-7d7f-3d51-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>concat("{","\"",/event,"\"",":","\"",/eventname,"\"",/message)</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Make json and add _raw to record</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
<processors>
    <id>16d9e4a6-fca6-3db6-0000-000000000000</id>
    <parentGroupId>17e6fca7-4f27-36f0-0000-000000000000</parentGroupId>
    <position>
        <x>-1168.0</x>
        <y>480.0</y>
    </position>
    <bundle>
        <artifact>nifi-ot-nar</artifact>
        <group>ru.ot.dmr</group>
        <version>ot-1.4.3</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>/event</key>
                <value>
                    <name>/event</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>fa186de5-3d89-3a01-0000-000000000000</value>
            </entry>
            <entry>
                <key>/event</key>
                <value>drop</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RecordEditSchema</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>ru.ot.dmr.processors.RecordEditSchema</type>
</processors>
<processors>
    <id>e6e4accf-2449-3b24-0000-000000000000</id>
    <parentGroupId>17e6fca7-4f27-36f0-0000-000000000000</parentGroupId>
    <position>
        <x>-1552.0</x>
        <y>480.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>
                    <name>/_time</name>
                </value>
            </entry>
            <entry>
                <key>/timestamp</key>
                <value>
                    <name>/timestamp</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>literal-value</value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>${field.value:isEmpty():ifElse(${now():toNumber()},${_time_format:equals('epoch'):ifElse(${field.value:toNumber():multiply(1000)},${field.value:toDate(${_time_format}):toNumber()})})}</value>
            </entry>
            <entry>
                <key>/timestamp</key>
                <value>${now():toNumber()}</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateRecord with _time in epoch format</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
                            </contents>
                            <name>Processing spark-event log</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>2f0604fe-bd74-3926-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-2896.0</x>
<y>880.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>3a3d7b2f-f633-3e2d-0000-000000000000</id>
    <parentGroupId>2f0604fe-bd74-3926-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>2f0604fe-bd74-3926-0000-000000000000</groupId>
        <id>e0f9c484-c7a9-3555-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>2f0604fe-bd74-3926-0000-000000000000</groupId>
        <id>12917037-903b-3c5e-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>7e40c2c7-541b-32c5-0000-000000000000</id>
    <parentGroupId>2f0604fe-bd74-3926-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>2f0604fe-bd74-3926-0000-000000000000</groupId>
        <id>34a18e16-6491-307f-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>2f0604fe-bd74-3926-0000-000000000000</groupId>
        <id>e0f9c484-c7a9-3555-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>d874d330-c581-3a32-0000-000000000000</id>
    <parentGroupId>2f0604fe-bd74-3926-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>2f0604fe-bd74-3926-0000-000000000000</groupId>
        <id>12917037-903b-3c5e-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>2f0604fe-bd74-3926-0000-000000000000</groupId>
        <id>cca8f1e9-8ccd-3e43-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>cca8f1e9-8ccd-3e43-0000-000000000000</id>
    <parentGroupId>2f0604fe-bd74-3926-0000-000000000000</parentGroupId>
    <position>
        <x>-2464.0</x>
        <y>264.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>input rest logs</name>
    <state>RUNNING</state>
    <type>INPUT_PORT</type>
</inputPorts>
<labels>
    <id>1e98c196-d6eb-3ea1-0000-000000000000</id>
    <parentGroupId>2f0604fe-bd74-3926-0000-000000000000</parentGroupId>
    <position>
        <x>-1592.0</x>
        <y>240.0</y>
    </position>
    <height>80.0</height>
    <label>Добавляем поле
_time (12-тизначный формат)
из поля timestamp
Замечание: добавляем "GMT+3:00" 
(править в зависимости от региона)</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>232.0</width>
</labels>
<outputPorts>
    <id>34a18e16-6491-307f-0000-000000000000</id>
    <parentGroupId>2f0604fe-bd74-3926-0000-000000000000</parentGroupId>
    <position>
        <x>-1142.5191333725281</x>
        <y>307.32434576599064</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>processed rest logs</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>12917037-903b-3c5e-0000-000000000000</id>
    <parentGroupId>2f0604fe-bd74-3926-0000-000000000000</parentGroupId>
    <position>
        <x>-2104.0</x>
        <y>344.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>
                    <name>/_raw</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>1c60611b-da96-3f9e-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>fa186de5-3d89-3a01-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>concat(/timestamp,"|",/level,"|",/message)</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Make json and add _raw to record</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
<processors>
    <id>e0f9c484-c7a9-3555-0000-000000000000</id>
    <parentGroupId>2f0604fe-bd74-3926-0000-000000000000</parentGroupId>
    <position>
        <x>-1648.0</x>
        <y>344.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>
                    <name>/_time</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>toDate( /timestamp, "yyyy-MM-dd HH:mm:ss,S", "GMT+3:00")</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateRecord with _time in epoch format</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
                            </contents>
                            <name>Process rest logs</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>37c46537-4f02-3e51-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-1696.0</x>
<y>736.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>1f4876d6-91b4-33c8-0000-000000000000</id>
    <parentGroupId>37c46537-4f02-3e51-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>37c46537-4f02-3e51-0000-000000000000</groupId>
        <id>3186c89a-10d6-30cc-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>37c46537-4f02-3e51-0000-000000000000</groupId>
        <id>761c6997-93f2-35b5-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>3345d270-91e0-33e9-0000-000000000000</id>
    <parentGroupId>37c46537-4f02-3e51-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>37c46537-4f02-3e51-0000-000000000000</groupId>
        <id>748eca92-4af6-320a-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>37c46537-4f02-3e51-0000-000000000000</groupId>
        <id>3186c89a-10d6-30cc-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e9d3d094-3eb5-3461-0000-000000000000</id>
    <parentGroupId>37c46537-4f02-3e51-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>37c46537-4f02-3e51-0000-000000000000</groupId>
        <id>761c6997-93f2-35b5-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>37c46537-4f02-3e51-0000-000000000000</groupId>
        <id>634c0b15-5a05-3fa7-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>634c0b15-5a05-3fa7-0000-000000000000</id>
    <parentGroupId>37c46537-4f02-3e51-0000-000000000000</parentGroupId>
    <position>
        <x>-2304.0</x>
        <y>984.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>input nifi logs</name>
    <state>RUNNING</state>
    <type>INPUT_PORT</type>
</inputPorts>
<outputPorts>
    <id>748eca92-4af6-320a-0000-000000000000</id>
    <parentGroupId>37c46537-4f02-3e51-0000-000000000000</parentGroupId>
    <position>
        <x>-1064.0</x>
        <y>984.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>processed nifi logs</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>3186c89a-10d6-30cc-0000-000000000000</id>
    <parentGroupId>37c46537-4f02-3e51-0000-000000000000</parentGroupId>
    <position>
        <x>-1488.0</x>
        <y>1032.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>
                    <name>/_time</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>toDate( /timestamp, "yyyy-MM-dd HH:mm:ss,S", "GMT+3:00")</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateRecord with _time in epoch format</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
<processors>
    <id>761c6997-93f2-35b5-0000-000000000000</id>
    <parentGroupId>37c46537-4f02-3e51-0000-000000000000</parentGroupId>
    <position>
        <x>-1952.0</x>
        <y>1032.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>
                    <name>/_raw</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>41ab0d79-4a85-394a-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>concat(concat(/timestamp),"|",/level,"|",/class,"|",/message)</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Make json and add _raw to record</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
                            </contents>
                            <name>Process nifi logs</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>47e62e19-006a-3497-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-2272.0</x>
<y>904.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>4315fe9c-f0dd-3aa4-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>ea92711e-d8e8-33fe-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>access</selectedRelationships>
    <source>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>30f30377-96a4-32b7-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>a3e8da9a-e9e6-3e94-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>0462d078-2f3e-3124-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>71be2edd-1ae2-3c95-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ae62827a-9fd0-3309-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>18f37119-623e-350e-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>ea92711e-d8e8-33fe-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ba6ae8c9-6f12-361a-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>30f30377-96a4-32b7-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>d90316bc-b7ab-3b34-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>d81adee7-cff7-3e6b-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>729a2dc5-7ee6-3a2c-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>18f37119-623e-350e-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e889901b-17ac-36e8-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>729a2dc5-7ee6-3a2c-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>0462d078-2f3e-3124-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e9bfa06a-20ca-33f6-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>71be2edd-1ae2-3c95-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>error</selectedRelationships>
    <source>
        <groupId>47e62e19-006a-3497-0000-000000000000</groupId>
        <id>30f30377-96a4-32b7-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>d90316bc-b7ab-3b34-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <position>
        <x>-2616.0</x>
        <y>992.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>input nginx logs</name>
    <state>RUNNING</state>
    <type>INPUT_PORT</type>
</inputPorts>
<outputPorts>
    <id>729a2dc5-7ee6-3a2c-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <position>
        <x>-992.0</x>
        <y>992.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>processed nginx logs</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>0462d078-2f3e-3124-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <position>
        <x>-1448.0</x>
        <y>760.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>
                    <name>/_time</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>toDate( /timestamp, "yyyy/MM/dd HH:mm:ss", "GMT+3:00")</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateRecord with _time in epoch format</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
<processors>
    <id>18f37119-623e-350e-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <position>
        <x>-1480.0</x>
        <y>1184.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>
                    <name>/_time</name>
                </value>
            </entry>
            <entry>
                <key>/message</key>
                <value>
                    <name>/message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>toDate( /timestamp, "dd/MMM/yyyy:HH:mm:ss", "GMT+3:00")</value>
            </entry>
            <entry>
                <key>/message</key>
                <value>/from</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateRecord with _time in epoch format</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
<processors>
    <id>30f30377-96a4-32b7-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <position>
        <x>-2304.0</x>
        <y>952.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Routing Strategy</key>
                <value>
                    <name>Routing Strategy</name>
                </value>
            </entry>
            <entry>
                <key>access</key>
                <value>
                    <name>access</name>
                </value>
            </entry>
            <entry>
                <key>error</key>
                <value>
                    <name>error</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Routing Strategy</key>
                <value>Route to Property name</value>
            </entry>
            <entry>
                <key>access</key>
                <value>${sourcetype:in("nginxlogs")}</value>
            </entry>
            <entry>
                <key>error</key>
                <value>${sourcetype:in("nginxerror")}</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RouteOnAttribute</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>access</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>error</name>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>unmatched</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
</processors>
<processors>
    <id>71be2edd-1ae2-3c95-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <position>
        <x>-1944.0</x>
        <y>760.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>
                    <name>/_raw</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>7516d757-46cf-30d4-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>concat(concat(/timestamp),"|",/loglevel,"|",/message)</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Make json and add _raw to record</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
<processors>
    <id>ea92711e-d8e8-33fe-0000-000000000000</id>
    <parentGroupId>47e62e19-006a-3497-0000-000000000000</parentGroupId>
    <position>
        <x>-1896.0</x>
        <y>1184.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>
                    <name>/_raw</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>fe63848b-28d2-3dc2-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>concat(concat(/timestamp),"|",/clientip,"|",/request,"|",/status,"|",/body_bytes,"|",/http_referer,"|",/http_user_agent,"|",/http_x_forwarded_for,"|",/request_time,"|",/upstream_response_time)</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Make json and add _raw to record</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
                            </contents>
                            <name>Process nginx logs</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>5d81fba7-b6e8-3a6f-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-3304.0</x>
<y>320.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>399c5400-f70c-3180-0000-000000000000</id>
    <parentGroupId>5d81fba7-b6e8-3a6f-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>5d81fba7-b6e8-3a6f-0000-000000000000</groupId>
        <id>91c63e93-5dd7-3f45-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>5d81fba7-b6e8-3a6f-0000-000000000000</groupId>
        <id>a3b388be-5cbe-33e4-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>4e7bf226-2df2-31be-0000-000000000000</id>
    <parentGroupId>5d81fba7-b6e8-3a6f-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>5d81fba7-b6e8-3a6f-0000-000000000000</groupId>
        <id>6770c3db-70bc-3634-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>5d81fba7-b6e8-3a6f-0000-000000000000</groupId>
        <id>8c62f35a-379a-358b-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>680742dc-b169-3352-0000-000000000000</id>
    <parentGroupId>5d81fba7-b6e8-3a6f-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>5d81fba7-b6e8-3a6f-0000-000000000000</groupId>
        <id>a3b388be-5cbe-33e4-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>5d81fba7-b6e8-3a6f-0000-000000000000</groupId>
        <id>f3df3149-cc96-34fd-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e770849f-85b7-3724-0000-000000000000</id>
    <parentGroupId>5d81fba7-b6e8-3a6f-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>5d81fba7-b6e8-3a6f-0000-000000000000</groupId>
        <id>8c62f35a-379a-358b-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>5d81fba7-b6e8-3a6f-0000-000000000000</groupId>
        <id>91c63e93-5dd7-3f45-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>f3df3149-cc96-34fd-0000-000000000000</id>
    <parentGroupId>5d81fba7-b6e8-3a6f-0000-000000000000</parentGroupId>
    <position>
        <x>-2264.0</x>
        <y>384.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>input spark logs</name>
    <state>RUNNING</state>
    <type>INPUT_PORT</type>
</inputPorts>
<outputPorts>
    <id>6770c3db-70bc-3634-0000-000000000000</id>
    <parentGroupId>5d81fba7-b6e8-3a6f-0000-000000000000</parentGroupId>
    <position>
        <x>-760.0</x>
        <y>352.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>processed spark logs</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>8c62f35a-379a-358b-0000-000000000000</id>
    <parentGroupId>5d81fba7-b6e8-3a6f-0000-000000000000</parentGroupId>
    <position>
        <x>-1176.0</x>
        <y>488.0</y>
    </position>
    <bundle>
        <artifact>nifi-ot-nar</artifact>
        <group>ru.ot.dmr</group>
        <version>ot-1.4.3</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>/date</key>
                <value>
                    <name>/date</name>
                </value>
            </entry>
            <entry>
                <key>/time</key>
                <value>
                    <name>/time</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>fa186de5-3d89-3a01-0000-000000000000</value>
            </entry>
            <entry>
                <key>/date</key>
                <value>drop</value>
            </entry>
            <entry>
                <key>/time</key>
                <value>drop</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RecordEditSchema</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>ru.ot.dmr.processors.RecordEditSchema</type>
</processors>
<processors>
    <id>91c63e93-5dd7-3f45-0000-000000000000</id>
    <parentGroupId>5d81fba7-b6e8-3a6f-0000-000000000000</parentGroupId>
    <position>
        <x>-1560.0</x>
        <y>488.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>
                    <name>/_time</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>toDate( /timestamp, "yy/MM/dd HH:mm:ss", "GMT+3:00")</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateRecord with _time in epoch format</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
<processors>
    <id>a3b388be-5cbe-33e4-0000-000000000000</id>
    <parentGroupId>5d81fba7-b6e8-3a6f-0000-000000000000</parentGroupId>
    <position>
        <x>-1960.0</x>
        <y>488.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>
                    <name>/_raw</name>
                </value>
            </entry>
            <entry>
                <key>/timestamp</key>
                <value>
                    <name>/timestamp</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>13c74673-b3af-306b-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>fa186de5-3d89-3a01-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>concat(concat(/date," ",/time),"|",/level,"|",/message)</value>
            </entry>
            <entry>
                <key>/timestamp</key>
                <value>concat(/date," ",/time)</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Make json and add _raw to record</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
                            </contents>
                            <name>Copy of Process spark logs</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>646d6d6d-92f5-30c0-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-72.0</x>
<y>656.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>18301b2a-8839-3b66-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>bef4ddcb-3030-37d4-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>84d49229-3a7f-388f-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>332c996d-5946-30ce-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>e6bc8a95-e3d1-376a-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>bef4ddcb-3030-37d4-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>3fc4543f-4c15-38f4-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>a70bf8d0-88d6-310c-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>e6bc8a95-e3d1-376a-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>51293ebc-c7de-39f7-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>2780f5f5-7181-3c1c-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>df207452-1936-348f-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>5d4cb8f7-7087-3701-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>1bce40e2-1794-3e8f-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>merged</selectedRelationships>
    <source>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>f189ef2a-d545-3ffe-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>6263e711-4fdf-306e-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>84d49229-3a7f-388f-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>2780f5f5-7181-3c1c-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>64766f1e-14b0-3f30-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>f189ef2a-d545-3ffe-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>24b4c19b-28b8-3769-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>6a533ba3-7fe4-33ab-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>28f06bfd-9580-32a1-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>aa5b2d72-7301-345c-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>9f38ab91-c0db-30bf-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>24b4c19b-28b8-3769-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>failure</selectedRelationships>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>a70bf8d0-88d6-310c-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>d539d0ea-650f-3071-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>aa5b2d72-7301-345c-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>646d6d6d-92f5-30c0-0000-000000000000</groupId>
        <id>1bce40e2-1794-3e8f-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>df207452-1936-348f-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>4536.0</x>
        <y>552.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>Input</name>
    <state>RUNNING</state>
    <type>INPUT_PORT</type>
</inputPorts>
<labels>
    <id>00b1a630-5d53-39c1-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>6552.0</x>
        <y>776.0</y>
    </position>
    <height>32.0</height>
    <label>Устанавливаем имя файла на основе UUID и now()</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>328.0</width>
</labels>
<labels>
    <id>1e757fee-ddc2-3135-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>5000.0</x>
        <y>776.0</y>
    </position>
    <height>32.0</height>
    <label>_bucket_period приводим к количеству секунд в нем</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>320.0</width>
</labels>
<labels>
    <id>28938f94-9ec3-3cfb-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>5576.0</x>
        <y>344.0</y>
    </position>
    <height>40.0</height>
    <label>Назначаем _time_range равным _time
но как текстовая величина (зачем?)</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>248.0</width>
</labels>
<labels>
    <id>2f909c8b-6b07-374d-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>4944.0</x>
        <y>312.0</y>
    </position>
    <height>96.0</height>
    <label>Нормализуем _bucket_period,
 так как в переменных он прописывается с указанием градации(например,
12h, 10m, 2d)
Создаем атрибут _bucket_multiplyer (равный количеству секунд 
в градации периода _bucket_period
(h - 3600, m - 60 и тп)</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>448.0</width>
</labels>
<labels>
    <id>317d7863-ae2b-3fc7-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>7008.0</x>
        <y>432.0</y>
    </position>
    <height>64.0</height>
    <label>Сохраняем полученные файлы в паркет-формате в директории:
/opt/otp/indexes/&lt;имя index-a&gt;/bucket-&lt;строка_time_range&gt;

Схема не сохраняется, но сохраняется spark meta (внутри паркет-файла), 
по которой можно будет искать с помощью otstats</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>424.0</width>
</labels>
<labels>
    <id>3aa64850-4ffb-3d10-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>6040.0</x>
        <y>768.0</y>
    </position>
    <height>48.0</height>
    <label>создаем атрибут _index_time_range, 
на основе которого будут склеиваться flowfiles
в один файл данных</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>328.0</width>
</labels>
<labels>
    <id>5bcd0c97-5608-3288-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>6032.0</x>
        <y>336.0</y>
    </position>
    <height>48.0</height>
    <label>Разбиваем flowfiles на файлы, 
в которых будут данные одного временного промежутка
и одного индекса</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>344.0</width>
</labels>
<labels>
    <id>63d4d2c5-2ffe-3f8d-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>5496.0</x>
        <y>760.0</y>
    </position>
    <height>56.0</height>
    <label>Прописываем _time_range, предварительно убирая миллисекунды
(границы зоны будут в epoch 10-тизначном формате)</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>408.0</width>
</labels>
<labels>
    <id>9cc069e0-f5d1-33ec-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>7552.0</x>
        <y>440.0</y>
    </position>
    <height>56.0</height>
    <label>Логирование информации о времени обработки каждого flowfile</label>
    <style>
        <entry>
            <key>background-color</key>
            <value>#2db586</value>
        </entry>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>376.0</width>
</labels>
<labels>
    <id>b60facd0-afeb-3630-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>6552.0</x>
        <y>352.0</y>
    </position>
    <height>24.0</height>
    <label>Склеиваем flowfiles с одинаковыми  _index_time_range,</label>
    <style>
        <entry>
            <key>font-size</key>
            <value>12px</value>
        </entry>
    </style>
    <width>328.0</width>
</labels>
<processors>
    <id>1bce40e2-1794-3e8f-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>6536.0</x>
        <y>616.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>filename</key>
                <value>
                    <name>filename</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>filename</key>
                <value>${now():toNumber():divide(1000)}-${UUID()}</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>set unique filename</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>24b4c19b-28b8-3769-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>6024.0</x>
        <y>616.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>8</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>_index_time_range</key>
                <value>
                    <name>_index_time_range</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>_index_time_range</key>
                <value>${index}_${_time_range}</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>_index_time_range</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>2780f5f5-7181-3c1c-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>4992.0</x>
        <y>424.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>_bucket_multiplier</key>
                <value>
                    <name>_bucket_multiplier</name>
                </value>
            </entry>
            <entry>
                <key>_bucket_period</key>
                <value>
                    <name>_bucket_period</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>_bucket_multiplier</key>
                <value>${_bucket_period:toLower():replaceAll('[^a-z]',''):startsWith('s'):ifElse(1,
${_bucket_period:toLower():replaceAll('[^a-z]',''):startsWith('m'):ifElse(60,
${_bucket_period:toLower():replaceAll('[^a-z]',''):startsWith('h'):ifElse(3600,
${_bucket_period:toLower():replaceAll('[^a-z]',''):startsWith('d'):ifElse(86400,1)}
)}
)}
)}</value>
            </entry>
            <entry>
                <key>_bucket_period</key>
                <value>${_bucket_period:replaceAll('\D','')}</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>parse bucket period</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>28f06bfd-9580-32a1-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>7552.0</x>
        <y>512.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>log-level</key>
                <value>
                    <name>log-level</name>
                </value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>
                    <name>log-prefix</name>
                </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>
                    <name>log-message</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>log-level</key>
                <value>info</value>
            </entry>
            <entry>
                <key>log-prefix</key>
                <value>${index} </value>
            </entry>
            <entry>
                <key>log-message</key>
                <value>processing time:${now():toNumber():minus(${lineageStartDate})} file size to write:${fileSize}</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>LogMessage about processing time </name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.LogMessage</type>
</processors>
<processors>
    <id>84d49229-3a7f-388f-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>4992.0</x>
        <y>616.0</y>
    </position>
    <bundle>
        <artifact>nifi-update-attribute-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Delete Attributes Expression</key>
                <value>
                    <name>Delete Attributes Expression</name>
                </value>
            </entry>
            <entry>
                <key>Store State</key>
                <value>
                    <name>Store State</name>
                </value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
                <value>
                    <name>Stateful Variables Initial Value</name>
                </value>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>
                    <name>canonical-value-lookup-cache-size</name>
                </value>
            </entry>
            <entry>
                <key>_bucket_period</key>
                <value>
                    <name>_bucket_period</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Delete Attributes Expression</key>
            </entry>
            <entry>
                <key>Store State</key>
                <value>Do not store state</value>
            </entry>
            <entry>
                <key>Stateful Variables Initial Value</key>
            </entry>
            <entry>
                <key>canonical-value-lookup-cache-size</key>
                <value>100</value>
            </entry>
            <entry>
                <key>_bucket_period</key>
                <value>${_bucket_period:toNumber():multiply(${_bucket_multiplier:toNumber()})}</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>set bucket period</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.attributes.UpdateAttribute</type>
</processors>
<processors>
    <id>a70bf8d0-88d6-310c-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>6024.0</x>
        <y>424.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>_time_range</key>
                <value>
                    <name>_time_range</name>
                </value>
            </entry>
            <entry>
                <key>index</key>
                <value>
                    <name>index</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>_time_range</key>
                <value>/_time_range</value>
            </entry>
            <entry>
                <key>index</key>
                <value>/index</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>PartitionRecord</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>original</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.PartitionRecord</type>
</processors>
<processors>
    <id>aa5b2d72-7301-345c-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>7040.0</x>
        <y>512.0</y>
    </position>
    <bundle>
        <artifact>ot-tools-nar</artifact>
        <group>ru.ot.etl</group>
        <version>1.1.12</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>Hadoop Configuration Resources</key>
                <value>
                    <name>Hadoop Configuration Resources</name>
                </value>
            </entry>
            <entry>
                <key>kerberos-credentials-service</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.kerberos.KerberosCredentialsService</identifiesControllerService>
                    <name>kerberos-credentials-service</name>
                </value>
            </entry>
            <entry>
                <key>Kerberos Principal</key>
                <value>
                    <name>Kerberos Principal</name>
                </value>
            </entry>
            <entry>
                <key>Kerberos Keytab</key>
                <value>
                    <name>Kerberos Keytab</name>
                </value>
            </entry>
            <entry>
                <key>Kerberos Relogin Period</key>
                <value>
                    <name>Kerberos Relogin Period</name>
                </value>
            </entry>
            <entry>
                <key>Additional Classpath Resources</key>
                <value>
                    <name>Additional Classpath Resources</name>
                </value>
            </entry>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>Directory</key>
                <value>
                    <name>Directory</name>
                </value>
            </entry>
            <entry>
                <key>compression-type</key>
                <value>
                    <name>compression-type</name>
                </value>
            </entry>
            <entry>
                <key>overwrite</key>
                <value>
                    <name>overwrite</name>
                </value>
            </entry>
            <entry>
                <key>permissions-umask</key>
                <value>
                    <name>permissions-umask</name>
                </value>
            </entry>
            <entry>
                <key>remote-group</key>
                <value>
                    <name>remote-group</name>
                </value>
            </entry>
            <entry>
                <key>remote-owner</key>
                <value>
                    <name>remote-owner</name>
                </value>
            </entry>
            <entry>
                <key>row-group-size</key>
                <value>
                    <name>row-group-size</name>
                </value>
            </entry>
            <entry>
                <key>page-size</key>
                <value>
                    <name>page-size</name>
                </value>
            </entry>
            <entry>
                <key>dictionary-page-size</key>
                <value>
                    <name>dictionary-page-size</name>
                </value>
            </entry>
            <entry>
                <key>max-padding-size</key>
                <value>
                    <name>max-padding-size</name>
                </value>
            </entry>
            <entry>
                <key>enable-dictionary-encoding</key>
                <value>
                    <name>enable-dictionary-encoding</name>
                </value>
            </entry>
            <entry>
                <key>enable-validation</key>
                <value>
                    <name>enable-validation</name>
                </value>
            </entry>
            <entry>
                <key>writer-version</key>
                <value>
                    <name>writer-version</name>
                </value>
            </entry>
            <entry>
                <key>remove-crc-files</key>
                <value>
                    <name>remove-crc-files</name>
                </value>
            </entry>
            <entry>
                <key>make-spark-mets</key>
                <value>
                    <name>make-spark-mets</name>
                </value>
            </entry>
            <entry>
                <key>create-schema-files</key>
                <value>
                    <name>create-schema-files</name>
                </value>
            </entry>
            <entry>
                <key>replace-special-symbols</key>
                <value>
                    <name>replace-special-symbols</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>Hadoop Configuration Resources</key>
                <value>/opt/otp/nifi/conf/core-site.xml</value>
            </entry>
            <entry>
                <key>kerberos-credentials-service</key>
            </entry>
            <entry>
                <key>Kerberos Principal</key>
            </entry>
            <entry>
                <key>Kerberos Keytab</key>
            </entry>
            <entry>
                <key>Kerberos Relogin Period</key>
                <value>4 hours</value>
            </entry>
            <entry>
                <key>Additional Classpath Resources</key>
            </entry>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>Directory</key>
                <value>/opt/otp/indexes/${index}/bucket-${_time_range}</value>
            </entry>
            <entry>
                <key>compression-type</key>
                <value>SNAPPY</value>
            </entry>
            <entry>
                <key>overwrite</key>
                <value>false</value>
            </entry>
            <entry>
                <key>permissions-umask</key>
            </entry>
            <entry>
                <key>remote-group</key>
            </entry>
            <entry>
                <key>remote-owner</key>
            </entry>
            <entry>
                <key>row-group-size</key>
            </entry>
            <entry>
                <key>page-size</key>
            </entry>
            <entry>
                <key>dictionary-page-size</key>
            </entry>
            <entry>
                <key>max-padding-size</key>
            </entry>
            <entry>
                <key>enable-dictionary-encoding</key>
            </entry>
            <entry>
                <key>enable-validation</key>
                <value>true</value>
            </entry>
            <entry>
                <key>writer-version</key>
            </entry>
            <entry>
                <key>remove-crc-files</key>
                <value>true</value>
            </entry>
            <entry>
                <key>make-spark-mets</key>
                <value>true</value>
            </entry>
            <entry>
                <key>create-schema-files</key>
                <value>false</value>
            </entry>
            <entry>
                <key>replace-special-symbols</key>
                <value>{" ": ""}</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>100 ms</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>PutParquetNoAvro</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>retry</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>ru.ot.etl.processors.nifi.PutParquetNoAvro</type>
</processors>
<processors>
    <id>bef4ddcb-3030-37d4-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>5528.0</x>
        <y>424.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_time_range</key>
                <value>
                    <name>/_time_range</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_time_range</key>
                <value>concat(/_time, "")</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>init _time_range</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
<processors>
    <id>e6bc8a95-e3d1-376a-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>5528.0</x>
        <y>616.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_time_range</key>
                <value>
                    <name>/_time_range</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>literal-value</value>
            </entry>
            <entry>
                <key>/_time_range</key>
                <value>${field.value:toNumber():divide(1000):divide(${_bucket_period:toNumber()}):
multiply(${_bucket_period:toNumber()})}-${field.value:toNumber():divide(1000):
divide(${_bucket_period:toNumber()}):multiply(${_bucket_period:toNumber()}):
plus(${_bucket_period:toNumber()})}-${now():toNumber():divide(3600000):
multiply(3600)}</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>calculate _time_range</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
<processors>
    <id>f189ef2a-d545-3ffe-0000-000000000000</id>
    <parentGroupId>646d6d6d-92f5-30c0-0000-000000000000</parentGroupId>
    <position>
        <x>6536.0</x>
        <y>424.0</y>
    </position>
    <bundle>
        <artifact>nifi-ot-nar</artifact>
        <group>ru.ot.dmr</group>
        <version>ot-1.4.3</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>merge-strategy</key>
                <value>
                    <name>merge-strategy</name>
                </value>
            </entry>
            <entry>
                <key>correlation-attribute-name</key>
                <value>
                    <name>correlation-attribute-name</name>
                </value>
            </entry>
            <entry>
                <key>Attribute Strategy</key>
                <value>
                    <name>Attribute Strategy</name>
                </value>
            </entry>
            <entry>
                <key>min-records</key>
                <value>
                    <name>min-records</name>
                </value>
            </entry>
            <entry>
                <key>max-records</key>
                <value>
                    <name>max-records</name>
                </value>
            </entry>
            <entry>
                <key>min-bin-size</key>
                <value>
                    <name>min-bin-size</name>
                </value>
            </entry>
            <entry>
                <key>max-bin-size</key>
                <value>
                    <name>max-bin-size</name>
                </value>
            </entry>
            <entry>
                <key>max-bin-age</key>
                <value>
                    <name>max-bin-age</name>
                </value>
            </entry>
            <entry>
                <key>max.bin.count</key>
                <value>
                    <name>max.bin.count</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>merge-strategy</key>
                <value>Bin-Packing Algorithm</value>
            </entry>
            <entry>
                <key>correlation-attribute-name</key>
                <value>_index_time_range</value>
            </entry>
            <entry>
                <key>Attribute Strategy</key>
                <value>Keep Only Common Attributes</value>
            </entry>
            <entry>
                <key>min-records</key>
                <value>1000</value>
            </entry>
            <entry>
                <key>max-records</key>
                <value>1000000</value>
            </entry>
            <entry>
                <key>min-bin-size</key>
                <value>0 B</value>
            </entry>
            <entry>
                <key>max-bin-size</key>
            </entry>
            <entry>
                <key>max-bin-age</key>
                <value>10 seconds</value>
            </entry>
            <entry>
                <key>max.bin.count</key>
                <value>1000</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>MergeRecordNoAvro</name>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>merged</name>
    </relationships>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>original</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>ru.ot.dmr.processors.MergeRecordNoAvro</type>
</processors>
                            </contents>
                            <name>WriteToIndex</name>
                            <variables>
<entry>
    <key>IndexTextFile</key>
    <value>indextextfile</value>
</entry>
<entry>
    <key>_bucket_period</key>
    <value>12h</value>
</entry>
                            </variables>
                        </processGroups>
                        <processGroups>
                            <id>b450b90b-f5b7-3e86-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-2840.0</x>
<y>312.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>263404d0-1f85-32ab-0000-000000000000</id>
    <parentGroupId>b450b90b-f5b7-3e86-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>b450b90b-f5b7-3e86-0000-000000000000</groupId>
        <id>3efe5f08-e6c5-3734-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>b450b90b-f5b7-3e86-0000-000000000000</groupId>
        <id>66f88993-7545-39c8-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>5cbd35bd-d9ea-3a82-0000-000000000000</id>
    <parentGroupId>b450b90b-f5b7-3e86-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>b450b90b-f5b7-3e86-0000-000000000000</groupId>
        <id>8d06a627-b295-3ef2-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>b450b90b-f5b7-3e86-0000-000000000000</groupId>
        <id>8426872c-e5ca-31a2-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e0d4a5ed-351a-3a61-0000-000000000000</id>
    <parentGroupId>b450b90b-f5b7-3e86-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>b450b90b-f5b7-3e86-0000-000000000000</groupId>
        <id>66f88993-7545-39c8-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>b450b90b-f5b7-3e86-0000-000000000000</groupId>
        <id>797d17b8-5a4e-35f7-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>e698c0d3-fe57-3595-0000-000000000000</id>
    <parentGroupId>b450b90b-f5b7-3e86-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>b450b90b-f5b7-3e86-0000-000000000000</groupId>
        <id>797d17b8-5a4e-35f7-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>b450b90b-f5b7-3e86-0000-000000000000</groupId>
        <id>8d06a627-b295-3ef2-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>8426872c-e5ca-31a2-0000-000000000000</id>
    <parentGroupId>b450b90b-f5b7-3e86-0000-000000000000</parentGroupId>
    <position>
        <x>-2264.0</x>
        <y>384.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>input spark logs</name>
    <state>RUNNING</state>
    <type>INPUT_PORT</type>
</inputPorts>
<outputPorts>
    <id>3efe5f08-e6c5-3734-0000-000000000000</id>
    <parentGroupId>b450b90b-f5b7-3e86-0000-000000000000</parentGroupId>
    <position>
        <x>-760.0</x>
        <y>352.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>processed spark logs</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>66f88993-7545-39c8-0000-000000000000</id>
    <parentGroupId>b450b90b-f5b7-3e86-0000-000000000000</parentGroupId>
    <position>
        <x>-1176.0</x>
        <y>488.0</y>
    </position>
    <bundle>
        <artifact>nifi-ot-nar</artifact>
        <group>ru.ot.dmr</group>
        <version>ot-1.4.3</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>/date</key>
                <value>
                    <name>/date</name>
                </value>
            </entry>
            <entry>
                <key>/time</key>
                <value>
                    <name>/time</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>fa186de5-3d89-3a01-0000-000000000000</value>
            </entry>
            <entry>
                <key>/date</key>
                <value>drop</value>
            </entry>
            <entry>
                <key>/time</key>
                <value>drop</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RecordEditSchema</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>ru.ot.dmr.processors.RecordEditSchema</type>
</processors>
<processors>
    <id>797d17b8-5a4e-35f7-0000-000000000000</id>
    <parentGroupId>b450b90b-f5b7-3e86-0000-000000000000</parentGroupId>
    <position>
        <x>-1560.0</x>
        <y>488.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>
                    <name>/_time</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>toDate( /timestamp, "yy/MM/dd HH:mm:ss", "GMT+3:00")</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>UpdateRecord with _time in epoch format</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
<processors>
    <id>8d06a627-b295-3ef2-0000-000000000000</id>
    <parentGroupId>b450b90b-f5b7-3e86-0000-000000000000</parentGroupId>
    <position>
        <x>-1960.0</x>
        <y>488.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>
                    <name>/_raw</name>
                </value>
            </entry>
            <entry>
                <key>/timestamp</key>
                <value>
                    <name>/timestamp</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>13c74673-b3af-306b-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>fa186de5-3d89-3a01-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>concat(concat(/date," ",/time),"|",/level,"|",/message)</value>
            </entry>
            <entry>
                <key>/timestamp</key>
                <value>concat(/date," ",/time)</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Make json and add _raw to record</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
                            </contents>
                            <name>Process spark logs</name>
                            <variables/>
                        </processGroups>
                        <processGroups>
                            <id>c6945d24-9b3e-3d85-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-1696.0</x>
<y>408.0</y>
                            </position>
                            <comments></comments>
                            <contents>
<connections>
    <id>8b07f7aa-f613-32bd-0000-000000000000</id>
    <parentGroupId>c6945d24-9b3e-3d85-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>c6945d24-9b3e-3d85-0000-000000000000</groupId>
        <id>485d7abc-69ff-34cb-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>c6945d24-9b3e-3d85-0000-000000000000</groupId>
        <id>098ecbc9-e9e1-3360-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>ba4fadd0-8f7d-3960-0000-000000000000</id>
    <parentGroupId>c6945d24-9b3e-3d85-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>c6945d24-9b3e-3d85-0000-000000000000</groupId>
        <id>45fffcf3-4ff3-3063-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>c6945d24-9b3e-3d85-0000-000000000000</groupId>
        <id>485d7abc-69ff-34cb-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>cc2efcbe-172a-3c39-0000-000000000000</id>
    <parentGroupId>c6945d24-9b3e-3d85-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>c6945d24-9b3e-3d85-0000-000000000000</groupId>
        <id>098ecbc9-e9e1-3360-0000-000000000000</id>
        <type>PROCESSOR</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <source>
        <groupId>c6945d24-9b3e-3d85-0000-000000000000</groupId>
        <id>92581e3c-ab9e-3c3a-0000-000000000000</id>
        <type>INPUT_PORT</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<connections>
    <id>eaa84988-959a-3cbe-0000-000000000000</id>
    <parentGroupId>c6945d24-9b3e-3d85-0000-000000000000</parentGroupId>
    <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>
    <backPressureObjectThreshold>10000</backPressureObjectThreshold>
    <destination>
        <groupId>c6945d24-9b3e-3d85-0000-000000000000</groupId>
        <id>ab60d768-edb3-3bd2-0000-000000000000</id>
        <type>OUTPUT_PORT</type>
    </destination>
    <flowFileExpiration>0 sec</flowFileExpiration>
    <labelIndex>1</labelIndex>
    <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
    <loadBalancePartitionAttribute></loadBalancePartitionAttribute>
    <loadBalanceStatus>LOAD_BALANCE_NOT_CONFIGURED</loadBalanceStatus>
    <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
    <name></name>
    <selectedRelationships>success</selectedRelationships>
    <source>
        <groupId>c6945d24-9b3e-3d85-0000-000000000000</groupId>
        <id>45fffcf3-4ff3-3063-0000-000000000000</id>
        <type>PROCESSOR</type>
    </source>
    <zIndex>0</zIndex>
</connections>
<inputPorts>
    <id>92581e3c-ab9e-3c3a-0000-000000000000</id>
    <parentGroupId>c6945d24-9b3e-3d85-0000-000000000000</parentGroupId>
    <position>
        <x>-2224.0</x>
        <y>776.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>input glusterfs logs</name>
    <state>RUNNING</state>
    <type>INPUT_PORT</type>
</inputPorts>
<outputPorts>
    <id>ab60d768-edb3-3bd2-0000-000000000000</id>
    <parentGroupId>c6945d24-9b3e-3d85-0000-000000000000</parentGroupId>
    <position>
        <x>-712.0</x>
        <y>752.0</y>
    </position>
    <comments></comments>
    <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
    <name>processed glusterfs logs</name>
    <state>RUNNING</state>
    <type>OUTPUT_PORT</type>
</outputPorts>
<processors>
    <id>098ecbc9-e9e1-3360-0000-000000000000</id>
    <parentGroupId>c6945d24-9b3e-3d85-0000-000000000000</parentGroupId>
    <position>
        <x>-1944.0</x>
        <y>848.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>
                    <name>/_raw</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>577abdc6-cd26-3a45-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_raw</key>
                <value>concat(/timestamp,"|",/level,"|","msgid:",/msgid,"|",/file_info,"|",/domain,"|",/message)</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Make json and add _raw to record</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
<processors>
    <id>45fffcf3-4ff3-3063-0000-000000000000</id>
    <parentGroupId>c6945d24-9b3e-3d85-0000-000000000000</parentGroupId>
    <position>
        <x>-1120.0</x>
        <y>848.0</y>
    </position>
    <bundle>
        <artifact>nifi-ot-nar</artifact>
        <group>ru.ot.dmr</group>
        <version>ot-1.4.3</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>/data</key>
                <value>
                    <name>/data</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>fa186de5-3d89-3a01-0000-000000000000</value>
            </entry>
            <entry>
                <key>/data</key>
                <value>drop</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>RecordEditSchema</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>ru.ot.dmr.processors.RecordEditSchema</type>
</processors>
<processors>
    <id>485d7abc-69ff-34cb-0000-000000000000</id>
    <parentGroupId>c6945d24-9b3e-3d85-0000-000000000000</parentGroupId>
    <position>
        <x>-1536.0</x>
        <y>848.0</y>
    </position>
    <bundle>
        <artifact>nifi-standard-nar</artifact>
        <group>org.apache.nifi</group>
        <version>1.11.1</version>
    </bundle>
    <config>
        <bulletinLevel>WARN</bulletinLevel>
        <comments></comments>
        <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
        <descriptors>
            <entry>
                <key>record-reader</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
                    <name>record-reader</name>
                </value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>
                    <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
                    <name>record-writer</name>
                </value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>
                    <name>replacement-value-strategy</name>
                </value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>
                    <name>/_time</name>
                </value>
            </entry>
        </descriptors>
        <executionNode>ALL</executionNode>
        <lossTolerant>false</lossTolerant>
        <penaltyDuration>30 sec</penaltyDuration>
        <properties>
            <entry>
                <key>record-reader</key>
                <value>5ccf51c0-bac0-3313-0000-000000000000</value>
            </entry>
            <entry>
                <key>record-writer</key>
                <value>63896a5c-0be4-3dad-0000-000000000000</value>
            </entry>
            <entry>
                <key>replacement-value-strategy</key>
                <value>record-path-value</value>
            </entry>
            <entry>
                <key>/_time</key>
                <value>toDate( /timestamp, "yyyy-MM-dd HH:mm:ss.S", "GMT+3:00")</value>
            </entry>
        </properties>
        <runDurationMillis>0</runDurationMillis>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <yieldDuration>1 sec</yieldDuration>
    </config>
    <executionNodeRestricted>false</executionNodeRestricted>
    <name>Add _time in epoch format</name>
    <relationships>
        <autoTerminate>true</autoTerminate>
        <name>failure</name>
    </relationships>
    <relationships>
        <autoTerminate>false</autoTerminate>
        <name>success</name>
    </relationships>
    <state>RUNNING</state>
    <style/>
    <type>org.apache.nifi.processors.standard.UpdateRecord</type>
</processors>
                            </contents>
                            <name>Process glusterfs logs</name>
                            <variables/>
                        </processGroups>
                        <processors>
                            <id>3fccca6c-5d4b-3e02-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-976.0</x>
<y>632.0</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>record-reader</key>
        <value>
            <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
            <name>record-reader</name>
        </value>
    </entry>
    <entry>
        <key>record-writer</key>
        <value>
            <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
            <name>record-writer</name>
        </value>
    </entry>
    <entry>
        <key>replacement-value-strategy</key>
        <value>
            <name>replacement-value-strategy</name>
        </value>
    </entry>
    <entry>
        <key>/_indextime</key>
        <value>
            <name>/_indextime</name>
        </value>
    </entry>
    <entry>
        <key>/host</key>
        <value>
            <name>/host</name>
        </value>
    </entry>
    <entry>
        <key>/index</key>
        <value>
            <name>/index</name>
        </value>
    </entry>
    <entry>
        <key>/source</key>
        <value>
            <name>/source</name>
        </value>
    </entry>
    <entry>
        <key>/sourcetype</key>
        <value>
            <name>/sourcetype</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>record-reader</key>
        <value>5ccf51c0-bac0-3313-0000-000000000000</value>
    </entry>
    <entry>
        <key>record-writer</key>
        <value>63896a5c-0be4-3dad-0000-000000000000</value>
    </entry>
    <entry>
        <key>replacement-value-strategy</key>
        <value>literal-value</value>
    </entry>
    <entry>
        <key>/_indextime</key>
        <value>${now():toNumber()}</value>
    </entry>
    <entry>
        <key>/host</key>
        <value>${host}</value>
    </entry>
    <entry>
        <key>/index</key>
        <value>${index}</value>
    </entry>
    <entry>
        <key>/source</key>
        <value>${source}</value>
    </entry>
    <entry>
        <key>/sourcetype</key>
        <value>${sourcetype}</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>UpdateRecord with base fields</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.UpdateRecord</type>
                        </processors>
                        <processors>
                            <id>5fec7511-0481-32e1-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-3288.0</x>
<y>648.0</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Routing Strategy</key>
        <value>
            <name>Routing Strategy</name>
        </value>
    </entry>
    <entry>
        <key>gluster</key>
        <value>
            <name>gluster</name>
        </value>
    </entry>
    <entry>
        <key>nginx</key>
        <value>
            <name>nginx</name>
        </value>
    </entry>
    <entry>
        <key>nifi</key>
        <value>
            <name>nifi</name>
        </value>
    </entry>
    <entry>
        <key>rest</key>
        <value>
            <name>rest</name>
        </value>
    </entry>
    <entry>
        <key>spark-app</key>
        <value>
            <name>spark-app</name>
        </value>
    </entry>
    <entry>
        <key>spark-driver</key>
        <value>
            <name>spark-driver</name>
        </value>
    </entry>
    <entry>
        <key>spark-executors</key>
        <value>
            <name>spark-executors</name>
        </value>
    </entry>
    <entry>
        <key>spark-workers</key>
        <value>
            <name>spark-workers</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Routing Strategy</key>
        <value>Route to Property name</value>
    </entry>
    <entry>
        <key>gluster</key>
        <value>${sourcetype:in("glusterlogs")}</value>
    </entry>
    <entry>
        <key>nginx</key>
        <value>${sourcetype:contains("nginx")}</value>
    </entry>
    <entry>
        <key>nifi</key>
        <value>${sourcetype:contains("nifi")}</value>
    </entry>
    <entry>
        <key>rest</key>
        <value>${sourcetype:in("rest")}</value>
    </entry>
    <entry>
        <key>spark-app</key>
        <value>${sourcetype:in("sparkapplogs")}</value>
    </entry>
    <entry>
        <key>spark-driver</key>
        <value>${sourcetype:in("driverlog")}</value>
    </entry>
    <entry>
        <key>spark-executors</key>
        <value>${sourcetype:in("executorslogs")}</value>
    </entry>
    <entry>
        <key>spark-workers</key>
        <value>${sourcetype:in("sparklogs")}</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>RouteOnAttribute</name>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>gluster</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nginx</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>nifi</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>rest</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>spark-app</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>spark-driver</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>spark-executors</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>spark-workers</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>unmatched</name>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.RouteOnAttribute</type>
                        </processors>
                        <processors>
                            <id>6408f991-fcce-3eda-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-976.0</x>
<y>896.0</y>
                            </position>
                            <bundle>
<artifact>nifi-ot-nar</artifact>
<group>ru.ot.dmr</group>
<version>ot-1.4.3</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>record-reader</key>
        <value>
            <identifiesControllerService>org.apache.nifi.serialization.RecordReaderFactory</identifiesControllerService>
            <name>record-reader</name>
        </value>
    </entry>
    <entry>
        <key>record-writer</key>
        <value>
            <identifiesControllerService>org.apache.nifi.serialization.RecordSetWriterFactory</identifiesControllerService>
            <name>record-writer</name>
        </value>
    </entry>
    <entry>
        <key>/_indextime</key>
        <value>
            <name>/_indextime</name>
        </value>
    </entry>
    <entry>
        <key>/_time</key>
        <value>
            <name>/_time</name>
        </value>
    </entry>
    <entry>
        <key>/message</key>
        <value>
            <name>/message</name>
        </value>
    </entry>
    <entry>
        <key>/timestamp</key>
        <value>
            <name>/timestamp</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>record-reader</key>
        <value>5ccf51c0-bac0-3313-0000-000000000000</value>
    </entry>
    <entry>
        <key>record-writer</key>
        <value>63896a5c-0be4-3dad-0000-000000000000</value>
    </entry>
    <entry>
        <key>/_indextime</key>
        <value>LONG</value>
    </entry>
    <entry>
        <key>/_time</key>
        <value>LONG</value>
    </entry>
    <entry>
        <key>/message</key>
        <value>drop</value>
    </entry>
    <entry>
        <key>/timestamp</key>
        <value>drop</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>Remove service fields</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>ru.ot.dmr.processors.RecordEditSchema</type>
                        </processors>
                        <processors>
                            <id>8cee1e24-3c1f-31ca-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-3816.0</x>
<y>1032.0</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>log-level</key>
        <value>
            <name>log-level</name>
        </value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>
            <name>log-prefix</name>
        </value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>
            <name>log-message</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>log-level</key>
        <value>info</value>
    </entry>
    <entry>
        <key>log-prefix</key>
        <value>${index} size flowfile recieved:</value>
    </entry>
    <entry>
        <key>log-message</key>
        <value>${fileSize}</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>LogMessage about file size</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>success</name>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.LogMessage</type>
                        </processors>
                        <processors>
                            <id>d831336f-5b74-3024-0000-000000000000</id>
                            <parentGroupId>b280c965-e6a7-37c1-0000-000000000000</parentGroupId>
                            <position>
<x>-3288.0</x>
<y>856.0</y>
                            </position>
                            <bundle>
<artifact>nifi-standard-nar</artifact>
<group>org.apache.nifi</group>
<version>1.11.1</version>
                            </bundle>
                            <config>
<bulletinLevel>WARN</bulletinLevel>
<comments></comments>
<concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>
<descriptors>
    <entry>
        <key>Line Split Count</key>
        <value>
            <name>Line Split Count</name>
        </value>
    </entry>
    <entry>
        <key>Maximum Fragment Size</key>
        <value>
            <name>Maximum Fragment Size</name>
        </value>
    </entry>
    <entry>
        <key>Header Line Count</key>
        <value>
            <name>Header Line Count</name>
        </value>
    </entry>
    <entry>
        <key>Header Line Marker Characters</key>
        <value>
            <name>Header Line Marker Characters</name>
        </value>
    </entry>
    <entry>
        <key>Remove Trailing Newlines</key>
        <value>
            <name>Remove Trailing Newlines</name>
        </value>
    </entry>
</descriptors>
<executionNode>ALL</executionNode>
<lossTolerant>false</lossTolerant>
<penaltyDuration>30 sec</penaltyDuration>
<properties>
    <entry>
        <key>Line Split Count</key>
        <value>1000</value>
    </entry>
    <entry>
        <key>Maximum Fragment Size</key>
    </entry>
    <entry>
        <key>Header Line Count</key>
        <value>0</value>
    </entry>
    <entry>
        <key>Header Line Marker Characters</key>
    </entry>
    <entry>
        <key>Remove Trailing Newlines</key>
        <value>true</value>
    </entry>
</properties>
<runDurationMillis>0</runDurationMillis>
<schedulingPeriod>0 sec</schedulingPeriod>
<schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
<yieldDuration>1 sec</yieldDuration>
                            </config>
                            <executionNodeRestricted>false</executionNodeRestricted>
                            <name>SplitText</name>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>failure</name>
                            </relationships>
                            <relationships>
<autoTerminate>true</autoTerminate>
<name>original</name>
                            </relationships>
                            <relationships>
<autoTerminate>false</autoTerminate>
<name>splits</name>
                            </relationships>
                            <state>RUNNING</state>
                            <style/>
                            <type>org.apache.nifi.processors.standard.SplitText</type>
                        </processors>
                    </contents>
                    <name>ingest_platform_logs</name>
                    <variables/>
                </processGroups>
            </contents>
            <name>Logs processing</name>
            <variables/>
        </processGroups>
    </snippet>
    <timestamp>11/15/2021 15:44:03 MSK</timestamp>
</template>
